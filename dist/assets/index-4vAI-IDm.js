(function(){const b=document.createElement("link").relList;if(b&&b.supports&&b.supports("modulepreload"))return;for(const S of document.querySelectorAll('link[rel="modulepreload"]'))x(S);new MutationObserver(S=>{for(const z of S)if(z.type==="childList")for(const M of z.addedNodes)M.tagName==="LINK"&&M.rel==="modulepreload"&&x(M)}).observe(document,{childList:!0,subtree:!0});function w(S){const z={};return S.integrity&&(z.integrity=S.integrity),S.referrerPolicy&&(z.referrerPolicy=S.referrerPolicy),S.crossOrigin==="use-credentials"?z.credentials="include":S.crossOrigin==="anonymous"?z.credentials="omit":z.credentials="same-origin",z}function x(S){if(S.ep)return;S.ep=!0;const z=w(S);fetch(S.href,z)}})();function je(u){const b=document.createElement("template");return b.innerHTML=u.trim(),b.content.cloneNode(!0)}class lt extends HTMLElement{connectedCallback(){this.children.length||this.appendChild(je(`
      <h1 class="logo">QR Generator</h1>
      <a href="https://github.com/jklaze/QRgen" class="github-badge" target="_blank" rel="noopener noreferrer" aria-label="Star on GitHub">
        <svg class="github-badge-icon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill="currentColor" d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.75.75 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 5.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Z"/></svg>
        Star on GitHub
      </a>
    `))}}customElements.define("qr-header",lt);class ct extends HTMLElement{connectedCallback(){this.children.length||this.appendChild(je(`
      <svg style="position:absolute;width:0;height:0" aria-hidden="true">
        <defs>
          <filter id="grainNoise">
            <feTurbulence type="fractalNoise" baseFrequency="0.65" numOctaves="3" stitchTiles="stitch" />
            <feColorMatrix type="saturate" values="0" />
          </filter>
        </defs>
      </svg>
      <div class="preview-card">
        <div class="grainient-layer" aria-hidden="true">
          <div class="grad-blob"></div>
          <div class="grad-blob"></div>
          <div class="grad-blob"></div>
          <div class="grain-overlay"></div>
        </div>
        <div id="qr-container" class="qr-container"></div>
      </div>
    `))}}customElements.define("qr-preview",ct);const ut=`
  <section class="accordion" data-section="data" data-open="true">
    <button type="button" class="accordion-header" aria-expanded="true" aria-controls="panel-data">Data</button>
    <div id="panel-data" class="accordion-panel" role="region">
      <div class="field">
        <label for="data-mode">Mode</label>
        <div class="mode-tabs" role="tablist">
          <button type="button" role="tab" data-mode="text" aria-selected="true">Text</button>
          <button type="button" role="tab" data-mode="url">URL</button>
          <button type="button" role="tab" data-mode="email">Email</button>
          <button type="button" role="tab" data-mode="phone">Phone</button>
          <button type="button" role="tab" data-mode="wifi">WiFi</button>
          <button type="button" role="tab" data-mode="vcard">vCard</button>
        </div>
      </div>
      <div class="field data-panel" data-panel="text">
        <label for="data-text">Content</label>
        <textarea id="data-text" rows="3" placeholder="Enter text or URL…"></textarea>
      </div>
      <div class="field data-panel hidden" data-panel="url">
        <label for="data-url">URL</label>
        <input type="url" id="data-url" placeholder="https://…" />
      </div>
      <div class="field data-panel hidden" data-panel="email">
        <label for="data-email">Email</label>
        <input type="email" id="data-email" placeholder="you@example.com" />
        <label for="data-email-subject">Subject (optional)</label>
        <input type="text" id="data-email-subject" placeholder="Subject" />
      </div>
      <div class="field data-panel hidden" data-panel="phone">
        <label for="data-phone">Phone</label>
        <input type="tel" id="data-phone" placeholder="+1 234 567 8900" />
      </div>
      <div class="field data-panel hidden" data-panel="wifi">
        <label for="data-wifi-ssid">SSID</label>
        <input type="text" id="data-wifi-ssid" placeholder="Network name" />
        <label for="data-wifi-password">Password</label>
        <input type="password" id="data-wifi-password" placeholder="Password" />
        <label for="data-wifi-type">Encryption</label>
        <select id="data-wifi-type">
          <option value="WPA">WPA/WPA2</option>
          <option value="WEP">WEP</option>
          <option value="">None</option>
        </select>
      </div>
      <div class="field data-panel hidden" data-panel="vcard">
        <label for="data-vcard-name">Name</label>
        <input type="text" id="data-vcard-name" placeholder="Full name" />
        <label for="data-vcard-tel">Phone</label>
        <input type="tel" id="data-vcard-tel" placeholder="+1 234 567 8900" />
        <label for="data-vcard-email">Email</label>
        <input type="email" id="data-vcard-email" placeholder="you@example.com" />
      </div>
    </div>
  </section>
  <section class="accordion" data-section="size">
    <button type="button" class="accordion-header" aria-expanded="false" aria-controls="panel-size">Size &amp; shape</button>
    <div id="panel-size" class="accordion-panel" role="region" hidden>
      <div class="field">
        <label for="shape">Shape</label>
        <select id="shape">
          <option value="square">Square</option>
          <option value="circle">Circle</option>
        </select>
      </div>
      <div class="field">
        <label for="width">Width <span id="width-value">300</span>px</label>
        <input type="range" id="width" min="100" max="1000" value="300" />
      </div>
      <div class="field">
        <label for="height">Height <span id="height-value">300</span>px</label>
        <input type="range" id="height" min="100" max="1000" value="300" />
      </div>
      <div class="field">
        <label for="margin">Margin <span id="margin-value">0</span>px</label>
        <input type="range" id="margin" min="0" max="50" value="0" />
      </div>
      <div class="field">
        <label>Error correction</label>
        <div class="radio-group">
          <label><input type="radio" name="ecl" value="L" /> L</label>
          <label><input type="radio" name="ecl" value="M" /> M</label>
          <label><input type="radio" name="ecl" value="Q" checked /> Q</label>
          <label><input type="radio" name="ecl" value="H" /> H</label>
        </div>
      </div>
    </div>
  </section>
  <section class="accordion" data-section="dots">
    <button type="button" class="accordion-header" aria-expanded="false" aria-controls="panel-dots">Dot style</button>
    <div id="panel-dots" class="accordion-panel" role="region" hidden>
      <div class="field">
        <label>Dot type</label>
        <div class="shape-picker" data-target="dots-type">
          <button type="button" data-value="square" title="Square">■</button>
          <button type="button" data-value="rounded" title="Rounded">▢</button>
          <button type="button" data-value="dots" title="Dots">●</button>
          <button type="button" data-value="classy" title="Classy">▣</button>
          <button type="button" data-value="classy-rounded" title="Classy rounded">▤</button>
          <button type="button" data-value="extra-rounded" title="Extra rounded">◎</button>
        </div>
      </div>
      <div class="field">
        <label><input type="checkbox" id="dots-gradient" /> Gradient</label>
      </div>
      <div class="field dots-solid">
        <label for="dots-color">Color</label>
        <input type="color" id="dots-color" value="#000000" />
      </div>
      <div class="field dots-gradient hidden">
        <label for="dots-grad-type">Gradient type</label>
        <select id="dots-grad-type">
          <option value="linear">Linear</option>
          <option value="radial">Radial</option>
        </select>
        <label for="dots-grad-rotation">Rotation</label>
        <input type="range" id="dots-grad-rotation" min="0" max="360" value="0" />
        <label for="dots-grad-from">From</label>
        <input type="color" id="dots-grad-from" value="#000000" />
        <label for="dots-grad-to">To</label>
        <input type="color" id="dots-grad-to" value="#333333" />
      </div>
    </div>
  </section>
  <section class="accordion" data-section="corners-square">
    <button type="button" class="accordion-header" aria-expanded="false" aria-controls="panel-corners-square">Corner square</button>
    <div id="panel-corners-square" class="accordion-panel" role="region" hidden>
      <div class="field">
        <label>Type</label>
        <select id="corners-square-type">
          <option value="square">Square</option>
          <option value="dot">Dot</option>
          <option value="extra-rounded">Extra rounded</option>
          <option value="rounded">Rounded</option>
          <option value="dots">Dots</option>
          <option value="classy">Classy</option>
          <option value="classy-rounded">Classy rounded</option>
        </select>
      </div>
      <div class="field">
        <label><input type="checkbox" id="corners-square-gradient" /> Gradient</label>
      </div>
      <div class="field corners-square-solid">
        <label for="corners-square-color">Color</label>
        <input type="color" id="corners-square-color" value="#000000" />
      </div>
      <div class="field corners-square-gradient hidden">
        <label for="corners-square-grad-type">Gradient type</label>
        <select id="corners-square-grad-type">
          <option value="linear">Linear</option>
          <option value="radial">Radial</option>
        </select>
        <label for="corners-square-grad-rotation">Rotation</label>
        <input type="range" id="corners-square-grad-rotation" min="0" max="360" value="0" />
        <label for="corners-square-grad-from">From</label>
        <input type="color" id="corners-square-grad-from" value="#000000" />
        <label for="corners-square-grad-to">To</label>
        <input type="color" id="corners-square-grad-to" value="#333333" />
      </div>
    </div>
  </section>
  <section class="accordion" data-section="corners-dot">
    <button type="button" class="accordion-header" aria-expanded="false" aria-controls="panel-corners-dot">Corner dot</button>
    <div id="panel-corners-dot" class="accordion-panel" role="region" hidden>
      <div class="field">
        <label>Type</label>
        <select id="corners-dot-type">
          <option value="square">Square</option>
          <option value="dot">Dot</option>
          <option value="rounded">Rounded</option>
          <option value="dots">Dots</option>
          <option value="classy">Classy</option>
          <option value="classy-rounded">Classy rounded</option>
          <option value="extra-rounded">Extra rounded</option>
        </select>
      </div>
      <div class="field">
        <label><input type="checkbox" id="corners-dot-gradient" /> Gradient</label>
      </div>
      <div class="field corners-dot-solid">
        <label for="corners-dot-color">Color</label>
        <input type="color" id="corners-dot-color" value="#000000" />
      </div>
      <div class="field corners-dot-gradient hidden">
        <label for="corners-dot-grad-type">Gradient type</label>
        <select id="corners-dot-grad-type">
          <option value="linear">Linear</option>
          <option value="radial">Radial</option>
        </select>
        <label for="corners-dot-grad-rotation">Rotation</label>
        <input type="range" id="corners-dot-grad-rotation" min="0" max="360" value="0" />
        <label for="corners-dot-grad-from">From</label>
        <input type="color" id="corners-dot-grad-from" value="#000000" />
        <label for="corners-dot-grad-to">To</label>
        <input type="color" id="corners-dot-grad-to" value="#333333" />
      </div>
    </div>
  </section>
  <section class="accordion" data-section="background">
    <button type="button" class="accordion-header" aria-expanded="false" aria-controls="panel-background">Background</button>
    <div id="panel-background" class="accordion-panel" role="region" hidden>
      <div class="field">
        <label><input type="checkbox" id="bg-transparent" /> Transparent</label>
      </div>
      <div class="field bg-solid">
        <label><input type="checkbox" id="bg-gradient" /> Gradient</label>
      </div>
      <div class="field bg-solid">
        <label for="bg-color">Color</label>
        <input type="color" id="bg-color" value="#ffffff" />
      </div>
      <div class="field bg-gradient-el hidden">
        <label for="bg-grad-type">Gradient type</label>
        <select id="bg-grad-type">
          <option value="linear">Linear</option>
          <option value="radial">Radial</option>
        </select>
        <label for="bg-grad-rotation">Rotation</label>
        <input type="range" id="bg-grad-rotation" min="0" max="360" value="0" />
        <label for="bg-grad-from">From</label>
        <input type="color" id="bg-grad-from" value="#ffffff" />
        <label for="bg-grad-to">To</label>
        <input type="color" id="bg-grad-to" value="#f0f0f0" />
      </div>
    </div>
  </section>
  <section class="accordion" data-section="logo">
    <button type="button" class="accordion-header" aria-expanded="false" aria-controls="panel-logo">Logo</button>
    <div id="panel-logo" class="accordion-panel" role="region" hidden>
      <div class="field logo-upload-field">
        <div class="logo-upload-group">
          <label class="drop-zone" id="logo-drop-zone">
            <input type="file" id="logo-file" accept="image/*" hidden />
            <span>Drop image or click to upload</span>
          </label>
          <button type="button" class="btn-secondary" id="logo-clear">Clear logo</button>
        </div>
      </div>
      <div class="field">
        <label for="logo-size">Image size <span id="logo-size-value">0.4</span></label>
        <input type="range" id="logo-size" min="10" max="50" value="40" step="1" />
      </div>
      <div class="field">
        <label for="logo-margin">Logo margin <span id="logo-margin-value">0</span>px</label>
        <input type="range" id="logo-margin" min="0" max="30" value="0" />
      </div>
      <div class="field">
        <label><input type="checkbox" id="logo-hide-dots" checked /> Hide dots under logo</label>
      </div>
    </div>
  </section>
  <section class="accordion" data-section="presets" data-open="true">
    <button type="button" class="accordion-header" aria-expanded="true" aria-controls="panel-presets">Presets</button>
    <div id="panel-presets" class="accordion-panel" role="region">
      <div class="preset-buttons" id="preset-buttons"></div>
    </div>
  </section>
`;class gt extends HTMLElement{connectedCallback(){this.children.length||this.appendChild(je(ut))}}customElements.define("qr-sidebar",gt);function ht(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var Oe={exports:{}},pt=Oe.exports,Te;function ft(){return Te||(Te=1,(function(u,b){(function(w,x){u.exports=x()})(pt,(()=>(()=>{var w={873:(M,L)=>{var R,Y,se=(function(){var V=function(p,g){var d=p,t=Z[g],e=null,r=0,n=null,o=[],s={},m=function(a,l){e=(function(i){for(var c=new Array(i),h=0;h<i;h+=1){c[h]=new Array(i);for(var q=0;q<i;q+=1)c[h][q]=null}return c})(r=4*d+17),f(0,0),f(r-7,0),f(0,r-7),y(),E(),_(a,l),d>=7&&C(a),n==null&&(n=D(d,t,o)),A(n,l)},f=function(a,l){for(var i=-1;i<=7;i+=1)if(!(a+i<=-1||r<=a+i))for(var c=-1;c<=7;c+=1)l+c<=-1||r<=l+c||(e[a+i][l+c]=0<=i&&i<=6&&(c==0||c==6)||0<=c&&c<=6&&(i==0||i==6)||2<=i&&i<=4&&2<=c&&c<=4)},E=function(){for(var a=8;a<r-8;a+=1)e[a][6]==null&&(e[a][6]=a%2==0);for(var l=8;l<r-8;l+=1)e[6][l]==null&&(e[6][l]=l%2==0)},y=function(){for(var a=K.getPatternPosition(d),l=0;l<a.length;l+=1)for(var i=0;i<a.length;i+=1){var c=a[l],h=a[i];if(e[c][h]==null)for(var q=-2;q<=2;q+=1)for(var O=-2;O<=2;O+=1)e[c+q][h+O]=q==-2||q==2||O==-2||O==2||q==0&&O==0}},C=function(a){for(var l=K.getBCHTypeNumber(d),i=0;i<18;i+=1){var c=!a&&(l>>i&1)==1;e[Math.floor(i/3)][i%3+r-8-3]=c}for(i=0;i<18;i+=1)c=!a&&(l>>i&1)==1,e[i%3+r-8-3][Math.floor(i/3)]=c},_=function(a,l){for(var i=t<<3|l,c=K.getBCHTypeInfo(i),h=0;h<15;h+=1){var q=!a&&(c>>h&1)==1;h<6?e[h][8]=q:h<8?e[h+1][8]=q:e[r-15+h][8]=q}for(h=0;h<15;h+=1)q=!a&&(c>>h&1)==1,h<8?e[8][r-h-1]=q:h<9?e[8][15-h-1+1]=q:e[8][15-h-1]=q;e[r-8][8]=!a},A=function(a,l){for(var i=-1,c=r-1,h=7,q=0,O=K.getMaskFunction(l),$=r-1;$>0;$-=2)for($==6&&($-=1);;){for(var j=0;j<2;j+=1)if(e[c][$-j]==null){var N=!1;q<a.length&&(N=(a[q]>>>h&1)==1),O(c,$-j)&&(N=!N),e[c][$-j]=N,(h-=1)==-1&&(q+=1,h=7)}if((c+=i)<0||r<=c){c-=i,i=-i;break}}},D=function(a,l,i){for(var c=_e.getRSBlocks(a,l),h=me(),q=0;q<i.length;q+=1){var O=i[q];h.put(O.getMode(),4),h.put(O.getLength(),K.getLengthInBits(O.getMode(),a)),O.write(h)}var $=0;for(q=0;q<c.length;q+=1)$+=c[q].dataCount;if(h.getLengthInBits()>8*$)throw"code length overflow. ("+h.getLengthInBits()+">"+8*$+")";for(h.getLengthInBits()+4<=8*$&&h.put(0,4);h.getLengthInBits()%8!=0;)h.putBit(!1);for(;!(h.getLengthInBits()>=8*$||(h.put(236,8),h.getLengthInBits()>=8*$));)h.put(17,8);return(function(j,N){for(var H=0,J=0,G=0,Q=new Array(N.length),T=new Array(N.length),B=0;B<N.length;B+=1){var U=N[B].dataCount,X=N[B].totalCount-U;J=Math.max(J,U),G=Math.max(G,X),Q[B]=new Array(U);for(var k=0;k<Q[B].length;k+=1)Q[B][k]=255&j.getBuffer()[k+H];H+=U;var ae=K.getErrorCorrectPolynomial(X),re=ce(Q[B],ae.getLength()-1).mod(ae);for(T[B]=new Array(ae.getLength()-1),k=0;k<T[B].length;k+=1){var te=k+re.getLength()-T[B].length;T[B][k]=te>=0?re.getAt(te):0}}var qe=0;for(k=0;k<N.length;k+=1)qe+=N[k].totalCount;var we=new Array(qe),le=0;for(k=0;k<J;k+=1)for(B=0;B<N.length;B+=1)k<Q[B].length&&(we[le]=Q[B][k],le+=1);for(k=0;k<G;k+=1)for(B=0;B<N.length;B+=1)k<T[B].length&&(we[le]=T[B][k],le+=1);return we})(h,c)};s.addData=function(a,l){var i=null;switch(l=l||"Byte"){case"Numeric":i=xe(a);break;case"Alphanumeric":i=Se(a);break;case"Byte":i=ve(a);break;case"Kanji":i=Ee(a);break;default:throw"mode:"+l}o.push(i),n=null},s.isDark=function(a,l){if(a<0||r<=a||l<0||r<=l)throw a+","+l;return e[a][l]},s.getModuleCount=function(){return r},s.make=function(){if(d<1){for(var a=1;a<40;a++){for(var l=_e.getRSBlocks(a,t),i=me(),c=0;c<o.length;c++){var h=o[c];i.put(h.getMode(),4),i.put(h.getLength(),K.getLengthInBits(h.getMode(),a)),h.write(i)}var q=0;for(c=0;c<l.length;c++)q+=l[c].dataCount;if(i.getLengthInBits()<=8*q)break}d=a}m(!1,(function(){for(var O=0,$=0,j=0;j<8;j+=1){m(!0,j);var N=K.getLostPoint(s);(j==0||O>N)&&(O=N,$=j)}return $})())},s.createTableTag=function(a,l){a=a||2;var i="";i+='<table style="',i+=" border-width: 0px; border-style: none;",i+=" border-collapse: collapse;",i+=" padding: 0px; margin: "+(l=l===void 0?4*a:l)+"px;",i+='">',i+="<tbody>";for(var c=0;c<s.getModuleCount();c+=1){i+="<tr>";for(var h=0;h<s.getModuleCount();h+=1)i+='<td style="',i+=" border-width: 0px; border-style: none;",i+=" border-collapse: collapse;",i+=" padding: 0px; margin: 0px;",i+=" width: "+a+"px;",i+=" height: "+a+"px;",i+=" background-color: ",i+=s.isDark(c,h)?"#000000":"#ffffff",i+=";",i+='"/>';i+="</tr>"}return(i+="</tbody>")+"</table>"},s.createSvgTag=function(a,l,i,c){var h={};typeof arguments[0]=="object"&&(a=(h=arguments[0]).cellSize,l=h.margin,i=h.alt,c=h.title),a=a||2,l=l===void 0?4*a:l,(i=typeof i=="string"?{text:i}:i||{}).text=i.text||null,i.id=i.text?i.id||"qrcode-description":null,(c=typeof c=="string"?{text:c}:c||{}).text=c.text||null,c.id=c.text?c.id||"qrcode-title":null;var q,O,$,j,N=s.getModuleCount()*a+2*l,H="";for(j="l"+a+",0 0,"+a+" -"+a+",0 0,-"+a+"z ",H+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',H+=h.scalable?"":' width="'+N+'px" height="'+N+'px"',H+=' viewBox="0 0 '+N+" "+N+'" ',H+=' preserveAspectRatio="xMinYMin meet"',H+=c.text||i.text?' role="img" aria-labelledby="'+I([c.id,i.id].join(" ").trim())+'"':"",H+=">",H+=c.text?'<title id="'+I(c.id)+'">'+I(c.text)+"</title>":"",H+=i.text?'<description id="'+I(i.id)+'">'+I(i.text)+"</description>":"",H+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',H+='<path d="',O=0;O<s.getModuleCount();O+=1)for($=O*a+l,q=0;q<s.getModuleCount();q+=1)s.isDark(O,q)&&(H+="M"+(q*a+l)+","+$+j);return(H+='" stroke="transparent" fill="black"/>')+"</svg>"},s.createDataURL=function(a,l){a=a||2,l=l===void 0?4*a:l;var i=s.getModuleCount()*a+2*l,c=l,h=i-l;return be(i,i,(function(q,O){if(c<=q&&q<h&&c<=O&&O<h){var $=Math.floor((q-c)/a),j=Math.floor((O-c)/a);return s.isDark(j,$)?0:1}return 1}))},s.createImgTag=function(a,l,i){a=a||2,l=l===void 0?4*a:l;var c=s.getModuleCount()*a+2*l,h="";return h+="<img",h+=' src="',h+=s.createDataURL(a,l),h+='"',h+=' width="',h+=c,h+='"',h+=' height="',h+=c,h+='"',i&&(h+=' alt="',h+=I(i),h+='"'),h+"/>"};var I=function(a){for(var l="",i=0;i<a.length;i+=1){var c=a.charAt(i);switch(c){case"<":l+="&lt;";break;case">":l+="&gt;";break;case"&":l+="&amp;";break;case'"':l+="&quot;";break;default:l+=c}}return l};return s.createASCII=function(a,l){if((a=a||1)<2)return(function(Q){Q=Q===void 0?2:Q;var T,B,U,X,k,ae=1*s.getModuleCount()+2*Q,re=Q,te=ae-Q,qe={"██":"█","█ ":"▀"," █":"▄","  ":" "},we={"██":"▀","█ ":"▀"," █":" ","  ":" "},le="";for(T=0;T<ae;T+=2){for(U=Math.floor((T-re)/1),X=Math.floor((T+1-re)/1),B=0;B<ae;B+=1)k="█",re<=B&&B<te&&re<=T&&T<te&&s.isDark(U,Math.floor((B-re)/1))&&(k=" "),re<=B&&B<te&&re<=T+1&&T+1<te&&s.isDark(X,Math.floor((B-re)/1))?k+=" ":k+="█",le+=Q<1&&T+1>=te?we[k]:qe[k];le+=`
`}return ae%2&&Q>0?le.substring(0,le.length-ae-1)+Array(ae+1).join("▀"):le.substring(0,le.length-1)})(l);a-=1,l=l===void 0?2*a:l;var i,c,h,q,O=s.getModuleCount()*a+2*l,$=l,j=O-l,N=Array(a+1).join("██"),H=Array(a+1).join("  "),J="",G="";for(i=0;i<O;i+=1){for(h=Math.floor((i-$)/a),G="",c=0;c<O;c+=1)q=1,$<=c&&c<j&&$<=i&&i<j&&s.isDark(h,Math.floor((c-$)/a))&&(q=0),G+=q?N:H;for(h=0;h<a;h+=1)J+=G+`
`}return J.substring(0,J.length-1)},s.renderTo2dContext=function(a,l){l=l||2;for(var i=s.getModuleCount(),c=0;c<i;c++)for(var h=0;h<i;h++)a.fillStyle=s.isDark(c,h)?"black":"white",a.fillRect(c*l,h*l,l,l)},s};V.stringToBytes=(V.stringToBytesFuncs={default:function(p){for(var g=[],d=0;d<p.length;d+=1){var t=p.charCodeAt(d);g.push(255&t)}return g}}).default,V.createStringToBytes=function(p,g){var d=(function(){for(var e=Le(p),r=function(){var E=e.read();if(E==-1)throw"eof";return E},n=0,o={};;){var s=e.read();if(s==-1)break;var m=r(),f=r()<<8|r();o[String.fromCharCode(s<<8|m)]=f,n+=1}if(n!=g)throw n+" != "+g;return o})(),t=63;return function(e){for(var r=[],n=0;n<e.length;n+=1){var o=e.charCodeAt(n);if(o<128)r.push(o);else{var s=d[e.charAt(n)];typeof s=="number"?(255&s)==s?r.push(s):(r.push(s>>>8),r.push(255&s)):r.push(t)}}return r}};var ne,oe,F,P,W,Z={L:1,M:0,Q:3,H:2},K=(ne=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],oe=1335,F=7973,W=function(p){for(var g=0;p!=0;)g+=1,p>>>=1;return g},(P={}).getBCHTypeInfo=function(p){for(var g=p<<10;W(g)-W(oe)>=0;)g^=oe<<W(g)-W(oe);return 21522^(p<<10|g)},P.getBCHTypeNumber=function(p){for(var g=p<<12;W(g)-W(F)>=0;)g^=F<<W(g)-W(F);return p<<12|g},P.getPatternPosition=function(p){return ne[p-1]},P.getMaskFunction=function(p){switch(p){case 0:return function(g,d){return(g+d)%2==0};case 1:return function(g,d){return g%2==0};case 2:return function(g,d){return d%3==0};case 3:return function(g,d){return(g+d)%3==0};case 4:return function(g,d){return(Math.floor(g/2)+Math.floor(d/3))%2==0};case 5:return function(g,d){return g*d%2+g*d%3==0};case 6:return function(g,d){return(g*d%2+g*d%3)%2==0};case 7:return function(g,d){return(g*d%3+(g+d)%2)%2==0};default:throw"bad maskPattern:"+p}},P.getErrorCorrectPolynomial=function(p){for(var g=ce([1],0),d=0;d<p;d+=1)g=g.multiply(ce([1,ee.gexp(d)],0));return g},P.getLengthInBits=function(p,g){if(1<=g&&g<10)switch(p){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+p}else if(g<27)switch(p){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+p}else{if(!(g<41))throw"type:"+g;switch(p){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+p}}},P.getLostPoint=function(p){for(var g=p.getModuleCount(),d=0,t=0;t<g;t+=1)for(var e=0;e<g;e+=1){for(var r=0,n=p.isDark(t,e),o=-1;o<=1;o+=1)if(!(t+o<0||g<=t+o))for(var s=-1;s<=1;s+=1)e+s<0||g<=e+s||o==0&&s==0||n==p.isDark(t+o,e+s)&&(r+=1);r>5&&(d+=3+r-5)}for(t=0;t<g-1;t+=1)for(e=0;e<g-1;e+=1){var m=0;p.isDark(t,e)&&(m+=1),p.isDark(t+1,e)&&(m+=1),p.isDark(t,e+1)&&(m+=1),p.isDark(t+1,e+1)&&(m+=1),m!=0&&m!=4||(d+=3)}for(t=0;t<g;t+=1)for(e=0;e<g-6;e+=1)p.isDark(t,e)&&!p.isDark(t,e+1)&&p.isDark(t,e+2)&&p.isDark(t,e+3)&&p.isDark(t,e+4)&&!p.isDark(t,e+5)&&p.isDark(t,e+6)&&(d+=40);for(e=0;e<g;e+=1)for(t=0;t<g-6;t+=1)p.isDark(t,e)&&!p.isDark(t+1,e)&&p.isDark(t+2,e)&&p.isDark(t+3,e)&&p.isDark(t+4,e)&&!p.isDark(t+5,e)&&p.isDark(t+6,e)&&(d+=40);var f=0;for(e=0;e<g;e+=1)for(t=0;t<g;t+=1)p.isDark(t,e)&&(f+=1);return d+Math.abs(100*f/g/g-50)/5*10},P),ee=(function(){for(var p=new Array(256),g=new Array(256),d=0;d<8;d+=1)p[d]=1<<d;for(d=8;d<256;d+=1)p[d]=p[d-4]^p[d-5]^p[d-6]^p[d-8];for(d=0;d<255;d+=1)g[p[d]]=d;return{glog:function(t){if(t<1)throw"glog("+t+")";return g[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return p[t]}}})();function ce(p,g){if(p.length===void 0)throw p.length+"/"+g;var d=(function(){for(var e=0;e<p.length&&p[e]==0;)e+=1;for(var r=new Array(p.length-e+g),n=0;n<p.length-e;n+=1)r[n]=p[n+e];return r})(),t={getAt:function(e){return d[e]},getLength:function(){return d.length},multiply:function(e){for(var r=new Array(t.getLength()+e.getLength()-1),n=0;n<t.getLength();n+=1)for(var o=0;o<e.getLength();o+=1)r[n+o]^=ee.gexp(ee.glog(t.getAt(n))+ee.glog(e.getAt(o)));return ce(r,0)},mod:function(e){if(t.getLength()-e.getLength()<0)return t;for(var r=ee.glog(t.getAt(0))-ee.glog(e.getAt(0)),n=new Array(t.getLength()),o=0;o<t.getLength();o+=1)n[o]=t.getAt(o);for(o=0;o<e.getLength();o+=1)n[o]^=ee.gexp(ee.glog(e.getAt(o))+r);return ce(n,0).mod(e)}};return t}var _e=(function(){var p=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],g=function(t,e){var r={};return r.totalCount=t,r.dataCount=e,r},d={getRSBlocks:function(t,e){var r=(function(C,_){switch(_){case Z.L:return p[4*(C-1)+0];case Z.M:return p[4*(C-1)+1];case Z.Q:return p[4*(C-1)+2];case Z.H:return p[4*(C-1)+3];default:return}})(t,e);if(r===void 0)throw"bad rs block @ typeNumber:"+t+"/errorCorrectionLevel:"+e;for(var n=r.length/3,o=[],s=0;s<n;s+=1)for(var m=r[3*s+0],f=r[3*s+1],E=r[3*s+2],y=0;y<m;y+=1)o.push(g(f,E));return o}};return d})(),me=function(){var p=[],g=0,d={getBuffer:function(){return p},getAt:function(t){var e=Math.floor(t/8);return(p[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r+=1)d.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return g},putBit:function(t){var e=Math.floor(g/8);p.length<=e&&p.push(0),t&&(p[e]|=128>>>g%8),g+=1}};return d},xe=function(p){var g=p,d={getMode:function(){return 1},getLength:function(r){return g.length},write:function(r){for(var n=g,o=0;o+2<n.length;)r.put(t(n.substring(o,o+3)),10),o+=3;o<n.length&&(n.length-o==1?r.put(t(n.substring(o,o+1)),4):n.length-o==2&&r.put(t(n.substring(o,o+2)),7))}},t=function(r){for(var n=0,o=0;o<r.length;o+=1)n=10*n+e(r.charAt(o));return n},e=function(r){if("0"<=r&&r<="9")return r.charCodeAt(0)-48;throw"illegal char :"+r};return d},Se=function(p){var g=p,d={getMode:function(){return 2},getLength:function(e){return g.length},write:function(e){for(var r=g,n=0;n+1<r.length;)e.put(45*t(r.charAt(n))+t(r.charAt(n+1)),11),n+=2;n<r.length&&e.put(t(r.charAt(n)),6)}},t=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-48;if("A"<=e&&e<="Z")return e.charCodeAt(0)-65+10;switch(e){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+e}};return d},ve=function(p){var g=V.stringToBytes(p);return{getMode:function(){return 4},getLength:function(d){return g.length},write:function(d){for(var t=0;t<g.length;t+=1)d.put(g[t],8)}}},Ee=function(p){var g=V.stringToBytesFuncs.SJIS;if(!g)throw"sjis not supported.";(function(){var e=g("友");if(e.length!=2||(e[0]<<8|e[1])!=38726)throw"sjis not supported."})();var d=g(p),t={getMode:function(){return 8},getLength:function(e){return~~(d.length/2)},write:function(e){for(var r=d,n=0;n+1<r.length;){var o=(255&r[n])<<8|255&r[n+1];if(33088<=o&&o<=40956)o-=33088;else{if(!(57408<=o&&o<=60351))throw"illegal char at "+(n+1)+"/"+o;o-=49472}o=192*(o>>>8&255)+(255&o),e.put(o,13),n+=2}if(n<r.length)throw"illegal char at "+(n+1)}};return t},Ce=function(){var p=[],g={writeByte:function(d){p.push(255&d)},writeShort:function(d){g.writeByte(d),g.writeByte(d>>>8)},writeBytes:function(d,t,e){t=t||0,e=e||d.length;for(var r=0;r<e;r+=1)g.writeByte(d[r+t])},writeString:function(d){for(var t=0;t<d.length;t+=1)g.writeByte(d.charCodeAt(t))},toByteArray:function(){return p},toString:function(){var d="";d+="[";for(var t=0;t<p.length;t+=1)t>0&&(d+=","),d+=p[t];return d+"]"}};return g},Le=function(p){var g=p,d=0,t=0,e=0,r={read:function(){for(;e<8;){if(d>=g.length){if(e==0)return-1;throw"unexpected end of file./"+e}var o=g.charAt(d);if(d+=1,o=="=")return e=0,-1;o.match(/^\s$/)||(t=t<<6|n(o.charCodeAt(0)),e+=6)}var s=t>>>e-8&255;return e-=8,s}},n=function(o){if(65<=o&&o<=90)return o-65;if(97<=o&&o<=122)return o-97+26;if(48<=o&&o<=57)return o-48+52;if(o==43)return 62;if(o==47)return 63;throw"c:"+o};return r},be=function(p,g,d){for(var t=(function(f,E){var y=f,C=E,_=new Array(f*E),A={setPixel:function(a,l,i){_[l*y+a]=i},write:function(a){a.writeString("GIF87a"),a.writeShort(y),a.writeShort(C),a.writeByte(128),a.writeByte(0),a.writeByte(0),a.writeByte(0),a.writeByte(0),a.writeByte(0),a.writeByte(255),a.writeByte(255),a.writeByte(255),a.writeString(","),a.writeShort(0),a.writeShort(0),a.writeShort(y),a.writeShort(C),a.writeByte(0);var l=D(2);a.writeByte(2);for(var i=0;l.length-i>255;)a.writeByte(255),a.writeBytes(l,i,255),i+=255;a.writeByte(l.length-i),a.writeBytes(l,i,l.length-i),a.writeByte(0),a.writeString(";")}},D=function(a){for(var l=1<<a,i=1+(1<<a),c=a+1,h=I(),q=0;q<l;q+=1)h.add(String.fromCharCode(q));h.add(String.fromCharCode(l)),h.add(String.fromCharCode(i));var O,$,j,N=Ce(),H=(O=N,$=0,j=0,{write:function(T,B){if(T>>>B)throw"length over";for(;$+B>=8;)O.writeByte(255&(T<<$|j)),B-=8-$,T>>>=8-$,j=0,$=0;j|=T<<$,$+=B},flush:function(){$>0&&O.writeByte(j)}});H.write(l,c);var J=0,G=String.fromCharCode(_[J]);for(J+=1;J<_.length;){var Q=String.fromCharCode(_[J]);J+=1,h.contains(G+Q)?G+=Q:(H.write(h.indexOf(G),c),h.size()<4095&&(h.size()==1<<c&&(c+=1),h.add(G+Q)),G=Q)}return H.write(h.indexOf(G),c),H.write(i,c),H.flush(),N.toByteArray()},I=function(){var a={},l=0,i={add:function(c){if(i.contains(c))throw"dup key:"+c;a[c]=l,l+=1},size:function(){return l},indexOf:function(c){return a[c]},contains:function(c){return a[c]!==void 0}};return i};return A})(p,g),e=0;e<g;e+=1)for(var r=0;r<p;r+=1)t.setPixel(r,e,d(r,e));var n=Ce();t.write(n);for(var o=(function(){var f=0,E=0,y=0,C="",_={},A=function(I){C+=String.fromCharCode(D(63&I))},D=function(I){if(!(I<0)){if(I<26)return 65+I;if(I<52)return I-26+97;if(I<62)return I-52+48;if(I==62)return 43;if(I==63)return 47}throw"n:"+I};return _.writeByte=function(I){for(f=f<<8|255&I,E+=8,y+=1;E>=6;)A(f>>>E-6),E-=6},_.flush=function(){if(E>0&&(A(f<<6-E),f=0,E=0),y%3!=0)for(var I=3-y%3,a=0;a<I;a+=1)C+="="},_.toString=function(){return C},_})(),s=n.toByteArray(),m=0;m<s.length;m+=1)o.writeByte(s[m]);return o.flush(),"data:image/gif;base64,"+o};return V})();se.stringToBytesFuncs["UTF-8"]=function(V){return(function(ne){for(var oe=[],F=0;F<ne.length;F++){var P=ne.charCodeAt(F);P<128?oe.push(P):P<2048?oe.push(192|P>>6,128|63&P):P<55296||P>=57344?oe.push(224|P>>12,128|P>>6&63,128|63&P):(F++,P=65536+((1023&P)<<10|1023&ne.charCodeAt(F)),oe.push(240|P>>18,128|P>>12&63,128|P>>6&63,128|63&P))}return oe})(V)},(Y=typeof(R=function(){return se})=="function"?R.apply(L,[]):R)===void 0||(M.exports=Y)}},x={};function S(M){var L=x[M];if(L!==void 0)return L.exports;var R=x[M]={exports:{}};return w[M](R,R.exports,S),R.exports}S.n=M=>{var L=M&&M.__esModule?()=>M.default:()=>M;return S.d(L,{a:L}),L},S.d=(M,L)=>{for(var R in L)S.o(L,R)&&!S.o(M,R)&&Object.defineProperty(M,R,{enumerable:!0,get:L[R]})},S.o=(M,L)=>Object.prototype.hasOwnProperty.call(M,L);var z={};return(()=>{S.d(z,{default:()=>g});const M=d=>!!d&&typeof d=="object"&&!Array.isArray(d);function L(d,...t){if(!t.length)return d;const e=t.shift();return e!==void 0&&M(d)&&M(e)?(d=Object.assign({},d),Object.keys(e).forEach((r=>{const n=d[r],o=e[r];Array.isArray(n)&&Array.isArray(o)?d[r]=o:M(n)&&M(o)?d[r]=L(Object.assign({},n),o):d[r]=o})),L(d,...t)):d}function R(d,t){const e=document.createElement("a");e.download=t,e.href=d,document.body.appendChild(e),e.click(),document.body.removeChild(e)}const Y={L:.07,M:.15,Q:.25,H:.3};class se{constructor({svg:t,type:e,window:r}){this._svg=t,this._type=e,this._window=r}draw(t,e,r,n){let o;switch(this._type){case"dots":o=this._drawDot;break;case"classy":o=this._drawClassy;break;case"classy-rounded":o=this._drawClassyRounded;break;case"rounded":o=this._drawRounded;break;case"extra-rounded":o=this._drawExtraRounded;break;default:o=this._drawSquare}o.call(this,{x:t,y:e,size:r,getNeighbor:n})}_rotateFigure({x:t,y:e,size:r,rotation:n=0,draw:o}){var s;const m=t+r/2,f=e+r/2;o(),(s=this._element)===null||s===void 0||s.setAttribute("transform",`rotate(${180*n/Math.PI},${m},${f})`)}_basicDot(t){const{size:e,x:r,y:n}=t;this._rotateFigure(Object.assign(Object.assign({},t),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(r+e/2)),this._element.setAttribute("cy",String(n+e/2)),this._element.setAttribute("r",String(e/2))}}))}_basicSquare(t){const{size:e,x:r,y:n}=t;this._rotateFigure(Object.assign(Object.assign({},t),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(r)),this._element.setAttribute("y",String(n)),this._element.setAttribute("width",String(e)),this._element.setAttribute("height",String(e))}}))}_basicSideRounded(t){const{size:e,x:r,y:n}=t;this._rotateFigure(Object.assign(Object.assign({},t),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${r} ${n}v ${e}h `+e/2+`a ${e/2} ${e/2}, 0, 0, 0, 0 ${-e}`)}}))}_basicCornerRounded(t){const{size:e,x:r,y:n}=t;this._rotateFigure(Object.assign(Object.assign({},t),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${r} ${n}v ${e}h ${e}v `+-e/2+`a ${e/2} ${e/2}, 0, 0, 0, ${-e/2} ${-e/2}`)}}))}_basicCornerExtraRounded(t){const{size:e,x:r,y:n}=t;this._rotateFigure(Object.assign(Object.assign({},t),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${r} ${n}v ${e}h ${e}a ${e} ${e}, 0, 0, 0, ${-e} ${-e}`)}}))}_basicCornersRounded(t){const{size:e,x:r,y:n}=t;this._rotateFigure(Object.assign(Object.assign({},t),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${r} ${n}v `+e/2+`a ${e/2} ${e/2}, 0, 0, 0, ${e/2} ${e/2}h `+e/2+"v "+-e/2+`a ${e/2} ${e/2}, 0, 0, 0, ${-e/2} ${-e/2}`)}}))}_drawDot({x:t,y:e,size:r}){this._basicDot({x:t,y:e,size:r,rotation:0})}_drawSquare({x:t,y:e,size:r}){this._basicSquare({x:t,y:e,size:r,rotation:0})}_drawRounded({x:t,y:e,size:r,getNeighbor:n}){const o=n?+n(-1,0):0,s=n?+n(1,0):0,m=n?+n(0,-1):0,f=n?+n(0,1):0,E=o+s+m+f;if(E!==0)if(E>2||o&&s||m&&f)this._basicSquare({x:t,y:e,size:r,rotation:0});else{if(E===2){let y=0;return o&&m?y=Math.PI/2:m&&s?y=Math.PI:s&&f&&(y=-Math.PI/2),void this._basicCornerRounded({x:t,y:e,size:r,rotation:y})}if(E===1){let y=0;return m?y=Math.PI/2:s?y=Math.PI:f&&(y=-Math.PI/2),void this._basicSideRounded({x:t,y:e,size:r,rotation:y})}}else this._basicDot({x:t,y:e,size:r,rotation:0})}_drawExtraRounded({x:t,y:e,size:r,getNeighbor:n}){const o=n?+n(-1,0):0,s=n?+n(1,0):0,m=n?+n(0,-1):0,f=n?+n(0,1):0,E=o+s+m+f;if(E!==0)if(E>2||o&&s||m&&f)this._basicSquare({x:t,y:e,size:r,rotation:0});else{if(E===2){let y=0;return o&&m?y=Math.PI/2:m&&s?y=Math.PI:s&&f&&(y=-Math.PI/2),void this._basicCornerExtraRounded({x:t,y:e,size:r,rotation:y})}if(E===1){let y=0;return m?y=Math.PI/2:s?y=Math.PI:f&&(y=-Math.PI/2),void this._basicSideRounded({x:t,y:e,size:r,rotation:y})}}else this._basicDot({x:t,y:e,size:r,rotation:0})}_drawClassy({x:t,y:e,size:r,getNeighbor:n}){const o=n?+n(-1,0):0,s=n?+n(1,0):0,m=n?+n(0,-1):0,f=n?+n(0,1):0;o+s+m+f!==0?o||m?s||f?this._basicSquare({x:t,y:e,size:r,rotation:0}):this._basicCornerRounded({x:t,y:e,size:r,rotation:Math.PI/2}):this._basicCornerRounded({x:t,y:e,size:r,rotation:-Math.PI/2}):this._basicCornersRounded({x:t,y:e,size:r,rotation:Math.PI/2})}_drawClassyRounded({x:t,y:e,size:r,getNeighbor:n}){const o=n?+n(-1,0):0,s=n?+n(1,0):0,m=n?+n(0,-1):0,f=n?+n(0,1):0;o+s+m+f!==0?o||m?s||f?this._basicSquare({x:t,y:e,size:r,rotation:0}):this._basicCornerExtraRounded({x:t,y:e,size:r,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:t,y:e,size:r,rotation:-Math.PI/2}):this._basicCornersRounded({x:t,y:e,size:r,rotation:Math.PI/2})}}const V={dot:"dot",square:"square",extraRounded:"extra-rounded"},ne=Object.values(V);class oe{constructor({svg:t,type:e,window:r}){this._svg=t,this._type=e,this._window=r}draw(t,e,r,n){let o;switch(this._type){case V.square:o=this._drawSquare;break;case V.extraRounded:o=this._drawExtraRounded;break;default:o=this._drawDot}o.call(this,{x:t,y:e,size:r,rotation:n})}_rotateFigure({x:t,y:e,size:r,rotation:n=0,draw:o}){var s;const m=t+r/2,f=e+r/2;o(),(s=this._element)===null||s===void 0||s.setAttribute("transform",`rotate(${180*n/Math.PI},${m},${f})`)}_basicDot(t){const{size:e,x:r,y:n}=t,o=e/7;this._rotateFigure(Object.assign(Object.assign({},t),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${r+e/2} ${n}a ${e/2} ${e/2} 0 1 0 0.1 0zm 0 ${o}a ${e/2-o} ${e/2-o} 0 1 1 -0.1 0Z`)}}))}_basicSquare(t){const{size:e,x:r,y:n}=t,o=e/7;this._rotateFigure(Object.assign(Object.assign({},t),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${r} ${n}v ${e}h ${e}v `+-e+`zM ${r+o} ${n+o}h `+(e-2*o)+"v "+(e-2*o)+"h "+(2*o-e)+"z")}}))}_basicExtraRounded(t){const{size:e,x:r,y:n}=t,o=e/7;this._rotateFigure(Object.assign(Object.assign({},t),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${r} ${n+2.5*o}v `+2*o+`a ${2.5*o} ${2.5*o}, 0, 0, 0, ${2.5*o} ${2.5*o}h `+2*o+`a ${2.5*o} ${2.5*o}, 0, 0, 0, ${2.5*o} ${2.5*-o}v `+-2*o+`a ${2.5*o} ${2.5*o}, 0, 0, 0, ${2.5*-o} ${2.5*-o}h `+-2*o+`a ${2.5*o} ${2.5*o}, 0, 0, 0, ${2.5*-o} ${2.5*o}M ${r+2.5*o} ${n+o}h `+2*o+`a ${1.5*o} ${1.5*o}, 0, 0, 1, ${1.5*o} ${1.5*o}v `+2*o+`a ${1.5*o} ${1.5*o}, 0, 0, 1, ${1.5*-o} ${1.5*o}h `+-2*o+`a ${1.5*o} ${1.5*o}, 0, 0, 1, ${1.5*-o} ${1.5*-o}v `+-2*o+`a ${1.5*o} ${1.5*o}, 0, 0, 1, ${1.5*o} ${1.5*-o}`)}}))}_drawDot({x:t,y:e,size:r,rotation:n}){this._basicDot({x:t,y:e,size:r,rotation:n})}_drawSquare({x:t,y:e,size:r,rotation:n}){this._basicSquare({x:t,y:e,size:r,rotation:n})}_drawExtraRounded({x:t,y:e,size:r,rotation:n}){this._basicExtraRounded({x:t,y:e,size:r,rotation:n})}}const F={dot:"dot",square:"square"},P=Object.values(F);class W{constructor({svg:t,type:e,window:r}){this._svg=t,this._type=e,this._window=r}draw(t,e,r,n){let o;o=this._type===F.square?this._drawSquare:this._drawDot,o.call(this,{x:t,y:e,size:r,rotation:n})}_rotateFigure({x:t,y:e,size:r,rotation:n=0,draw:o}){var s;const m=t+r/2,f=e+r/2;o(),(s=this._element)===null||s===void 0||s.setAttribute("transform",`rotate(${180*n/Math.PI},${m},${f})`)}_basicDot(t){const{size:e,x:r,y:n}=t;this._rotateFigure(Object.assign(Object.assign({},t),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(r+e/2)),this._element.setAttribute("cy",String(n+e/2)),this._element.setAttribute("r",String(e/2))}}))}_basicSquare(t){const{size:e,x:r,y:n}=t;this._rotateFigure(Object.assign(Object.assign({},t),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(r)),this._element.setAttribute("y",String(n)),this._element.setAttribute("width",String(e)),this._element.setAttribute("height",String(e))}}))}_drawDot({x:t,y:e,size:r,rotation:n}){this._basicDot({x:t,y:e,size:r,rotation:n})}_drawSquare({x:t,y:e,size:r,rotation:n}){this._basicSquare({x:t,y:e,size:r,rotation:n})}}const Z="circle",K=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],ee=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];class ce{constructor(t,e){this._roundSize=r=>this._options.dotsOptions.roundSize?Math.floor(r):r,this._window=e,this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(t.width)),this._element.setAttribute("height",String(t.height)),this._element.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),t.dotsOptions.roundSize||this._element.setAttribute("shape-rendering","crispEdges"),this._element.setAttribute("viewBox",`0 0 ${t.width} ${t.height}`),this._defs=this._window.document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs),this._imageUri=t.image,this._instanceId=ce.instanceCount++,this._options=t}get width(){return this._options.width}get height(){return this._options.height}getElement(){return this._element}async drawQR(t){const e=t.getModuleCount(),r=Math.min(this._options.width,this._options.height)-2*this._options.margin,n=this._options.shape===Z?r/Math.sqrt(2):r,o=this._roundSize(n/e);let s={hideXDots:0,hideYDots:0,width:0,height:0};if(this._qr=t,this._options.image){if(await this.loadImage(),!this._image)return;const{imageOptions:m,qrOptions:f}=this._options,E=m.imageSize*Y[f.errorCorrectionLevel],y=Math.floor(E*e*e);s=(function({originalHeight:C,originalWidth:_,maxHiddenDots:A,maxHiddenAxisDots:D,dotSize:I}){const a={x:0,y:0},l={x:0,y:0};if(C<=0||_<=0||A<=0||I<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};const i=C/_;return a.x=Math.floor(Math.sqrt(A/i)),a.x<=0&&(a.x=1),D&&D<a.x&&(a.x=D),a.x%2==0&&a.x--,l.x=a.x*I,a.y=1+2*Math.ceil((a.x*i-1)/2),l.y=Math.round(l.x*i),(a.y*a.x>A||D&&D<a.y)&&(D&&D<a.y?(a.y=D,a.y%2==0&&a.x--):a.y-=2,l.y=a.y*I,a.x=1+2*Math.ceil((a.y/i-1)/2),l.x=Math.round(l.y/i)),{height:l.y,width:l.x,hideYDots:a.y,hideXDots:a.x}})({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:y,maxHiddenAxisDots:e-14,dotSize:o})}this.drawBackground(),this.drawDots(((m,f)=>{var E,y,C,_,A,D;return!(this._options.imageOptions.hideBackgroundDots&&m>=(e-s.hideYDots)/2&&m<(e+s.hideYDots)/2&&f>=(e-s.hideXDots)/2&&f<(e+s.hideXDots)/2||!((E=K[m])===null||E===void 0)&&E[f]||!((y=K[m-e+7])===null||y===void 0)&&y[f]||!((C=K[m])===null||C===void 0)&&C[f-e+7]||!((_=ee[m])===null||_===void 0)&&_[f]||!((A=ee[m-e+7])===null||A===void 0)&&A[f]||!((D=ee[m])===null||D===void 0)&&D[f-e+7])})),this.drawCorners(),this._options.image&&await this.drawImage({width:s.width,height:s.height,count:e,dotSize:o})}drawBackground(){var t,e,r;const n=this._element,o=this._options;if(n){const s=(t=o.backgroundOptions)===null||t===void 0?void 0:t.gradient,m=(e=o.backgroundOptions)===null||e===void 0?void 0:e.color;let f=o.height,E=o.width;if(s||m){const y=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect");this._backgroundClipPath=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._backgroundClipPath.setAttribute("id",`clip-path-background-color-${this._instanceId}`),this._defs.appendChild(this._backgroundClipPath),!((r=o.backgroundOptions)===null||r===void 0)&&r.round&&(f=E=Math.min(o.width,o.height),y.setAttribute("rx",String(f/2*o.backgroundOptions.round))),y.setAttribute("x",String(this._roundSize((o.width-E)/2))),y.setAttribute("y",String(this._roundSize((o.height-f)/2))),y.setAttribute("width",String(E)),y.setAttribute("height",String(f)),this._backgroundClipPath.appendChild(y),this._createColor({options:s,color:m,additionalRotation:0,x:0,y:0,height:o.height,width:o.width,name:`background-color-${this._instanceId}`})}}}drawDots(t){var e,r;if(!this._qr)throw"QR code is not defined";const n=this._options,o=this._qr.getModuleCount();if(o>n.width||o>n.height)throw"The canvas is too small.";const s=Math.min(n.width,n.height)-2*n.margin,m=n.shape===Z?s/Math.sqrt(2):s,f=this._roundSize(m/o),E=this._roundSize((n.width-o*f)/2),y=this._roundSize((n.height-o*f)/2),C=new se({svg:this._element,type:n.dotsOptions.type,window:this._window});this._dotsClipPath=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id",`clip-path-dot-color-${this._instanceId}`),this._defs.appendChild(this._dotsClipPath),this._createColor({options:(e=n.dotsOptions)===null||e===void 0?void 0:e.gradient,color:n.dotsOptions.color,additionalRotation:0,x:0,y:0,height:n.height,width:n.width,name:`dot-color-${this._instanceId}`});for(let _=0;_<o;_++)for(let A=0;A<o;A++)t&&!t(_,A)||!((r=this._qr)===null||r===void 0)&&r.isDark(_,A)&&(C.draw(E+A*f,y+_*f,f,((D,I)=>!(A+D<0||_+I<0||A+D>=o||_+I>=o)&&!(t&&!t(_+I,A+D))&&!!this._qr&&this._qr.isDark(_+I,A+D))),C._element&&this._dotsClipPath&&this._dotsClipPath.appendChild(C._element));if(n.shape===Z){const _=this._roundSize((s/f-o)/2),A=o+2*_,D=E-_*f,I=y-_*f,a=[],l=this._roundSize(A/2);for(let i=0;i<A;i++){a[i]=[];for(let c=0;c<A;c++)i>=_-1&&i<=A-_&&c>=_-1&&c<=A-_||Math.sqrt((i-l)*(i-l)+(c-l)*(c-l))>l?a[i][c]=0:a[i][c]=this._qr.isDark(c-2*_<0?c:c>=o?c-2*_:c-_,i-2*_<0?i:i>=o?i-2*_:i-_)?1:0}for(let i=0;i<A;i++)for(let c=0;c<A;c++)a[i][c]&&(C.draw(D+c*f,I+i*f,f,((h,q)=>{var O;return!!(!((O=a[i+q])===null||O===void 0)&&O[c+h])})),C._element&&this._dotsClipPath&&this._dotsClipPath.appendChild(C._element))}}drawCorners(){if(!this._qr)throw"QR code is not defined";const t=this._element,e=this._options;if(!t)throw"Element code is not defined";const r=this._qr.getModuleCount(),n=Math.min(e.width,e.height)-2*e.margin,o=e.shape===Z?n/Math.sqrt(2):n,s=this._roundSize(o/r),m=7*s,f=3*s,E=this._roundSize((e.width-r*s)/2),y=this._roundSize((e.height-r*s)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach((([C,_,A])=>{var D,I,a,l,i,c,h,q,O,$,j,N,H,J;const G=E+C*s*(r-7),Q=y+_*s*(r-7);let T=this._dotsClipPath,B=this._dotsClipPath;if((!((D=e.cornersSquareOptions)===null||D===void 0)&&D.gradient||!((I=e.cornersSquareOptions)===null||I===void 0)&&I.color)&&(T=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),T.setAttribute("id",`clip-path-corners-square-color-${C}-${_}-${this._instanceId}`),this._defs.appendChild(T),this._cornersSquareClipPath=this._cornersDotClipPath=B=T,this._createColor({options:(a=e.cornersSquareOptions)===null||a===void 0?void 0:a.gradient,color:(l=e.cornersSquareOptions)===null||l===void 0?void 0:l.color,additionalRotation:A,x:G,y:Q,height:m,width:m,name:`corners-square-color-${C}-${_}-${this._instanceId}`})),((i=e.cornersSquareOptions)===null||i===void 0?void 0:i.type)&&ne.includes(e.cornersSquareOptions.type)){const U=new oe({svg:this._element,type:e.cornersSquareOptions.type,window:this._window});U.draw(G,Q,m,A),U._element&&T&&T.appendChild(U._element)}else{const U=new se({svg:this._element,type:((c=e.cornersSquareOptions)===null||c===void 0?void 0:c.type)||e.dotsOptions.type,window:this._window});for(let X=0;X<K.length;X++)for(let k=0;k<K[X].length;k++)!((h=K[X])===null||h===void 0)&&h[k]&&(U.draw(G+k*s,Q+X*s,s,((ae,re)=>{var te;return!!(!((te=K[X+re])===null||te===void 0)&&te[k+ae])})),U._element&&T&&T.appendChild(U._element))}if((!((q=e.cornersDotOptions)===null||q===void 0)&&q.gradient||!((O=e.cornersDotOptions)===null||O===void 0)&&O.color)&&(B=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),B.setAttribute("id",`clip-path-corners-dot-color-${C}-${_}-${this._instanceId}`),this._defs.appendChild(B),this._cornersDotClipPath=B,this._createColor({options:($=e.cornersDotOptions)===null||$===void 0?void 0:$.gradient,color:(j=e.cornersDotOptions)===null||j===void 0?void 0:j.color,additionalRotation:A,x:G+2*s,y:Q+2*s,height:f,width:f,name:`corners-dot-color-${C}-${_}-${this._instanceId}`})),((N=e.cornersDotOptions)===null||N===void 0?void 0:N.type)&&P.includes(e.cornersDotOptions.type)){const U=new W({svg:this._element,type:e.cornersDotOptions.type,window:this._window});U.draw(G+2*s,Q+2*s,f,A),U._element&&B&&B.appendChild(U._element)}else{const U=new se({svg:this._element,type:((H=e.cornersDotOptions)===null||H===void 0?void 0:H.type)||e.dotsOptions.type,window:this._window});for(let X=0;X<ee.length;X++)for(let k=0;k<ee[X].length;k++)!((J=ee[X])===null||J===void 0)&&J[k]&&(U.draw(G+k*s,Q+X*s,s,((ae,re)=>{var te;return!!(!((te=ee[X+re])===null||te===void 0)&&te[k+ae])})),U._element&&B&&B.appendChild(U._element))}}))}loadImage(){return new Promise(((t,e)=>{var r;const n=this._options;if(!n.image)return e("Image is not defined");if(!((r=n.nodeCanvas)===null||r===void 0)&&r.loadImage)n.nodeCanvas.loadImage(n.image).then((o=>{var s,m;if(this._image=o,this._options.imageOptions.saveAsBlob){const f=(s=n.nodeCanvas)===null||s===void 0?void 0:s.createCanvas(this._image.width,this._image.height);(m=f==null?void 0:f.getContext("2d"))===null||m===void 0||m.drawImage(o,0,0),this._imageUri=f==null?void 0:f.toDataURL()}t()})).catch(e);else{const o=new this._window.Image;typeof n.imageOptions.crossOrigin=="string"&&(o.crossOrigin=n.imageOptions.crossOrigin),this._image=o,o.onload=async()=>{this._options.imageOptions.saveAsBlob&&(this._imageUri=await(async function(s,m){return new Promise((f=>{const E=new m.XMLHttpRequest;E.onload=function(){const y=new m.FileReader;y.onloadend=function(){f(y.result)},y.readAsDataURL(E.response)},E.open("GET",s),E.responseType="blob",E.send()}))})(n.image||"",this._window)),t()},o.src=n.image}}))}async drawImage({width:t,height:e,count:r,dotSize:n}){const o=this._options,s=this._roundSize((o.width-r*n)/2),m=this._roundSize((o.height-r*n)/2),f=s+this._roundSize(o.imageOptions.margin+(r*n-t)/2),E=m+this._roundSize(o.imageOptions.margin+(r*n-e)/2),y=t-2*o.imageOptions.margin,C=e-2*o.imageOptions.margin,_=this._window.document.createElementNS("http://www.w3.org/2000/svg","image");_.setAttribute("href",this._imageUri||""),_.setAttribute("xlink:href",this._imageUri||""),_.setAttribute("x",String(f)),_.setAttribute("y",String(E)),_.setAttribute("width",`${y}px`),_.setAttribute("height",`${C}px`),this._element.appendChild(_)}_createColor({options:t,color:e,additionalRotation:r,x:n,y:o,height:s,width:m,name:f}){const E=m>s?m:s,y=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect");if(y.setAttribute("x",String(n)),y.setAttribute("y",String(o)),y.setAttribute("height",String(s)),y.setAttribute("width",String(m)),y.setAttribute("clip-path",`url('#clip-path-${f}')`),t){let C;if(t.type==="radial")C=this._window.document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),C.setAttribute("id",f),C.setAttribute("gradientUnits","userSpaceOnUse"),C.setAttribute("fx",String(n+m/2)),C.setAttribute("fy",String(o+s/2)),C.setAttribute("cx",String(n+m/2)),C.setAttribute("cy",String(o+s/2)),C.setAttribute("r",String(E/2));else{const _=((t.rotation||0)+r)%(2*Math.PI),A=(_+2*Math.PI)%(2*Math.PI);let D=n+m/2,I=o+s/2,a=n+m/2,l=o+s/2;A>=0&&A<=.25*Math.PI||A>1.75*Math.PI&&A<=2*Math.PI?(D-=m/2,I-=s/2*Math.tan(_),a+=m/2,l+=s/2*Math.tan(_)):A>.25*Math.PI&&A<=.75*Math.PI?(I-=s/2,D-=m/2/Math.tan(_),l+=s/2,a+=m/2/Math.tan(_)):A>.75*Math.PI&&A<=1.25*Math.PI?(D+=m/2,I+=s/2*Math.tan(_),a-=m/2,l-=s/2*Math.tan(_)):A>1.25*Math.PI&&A<=1.75*Math.PI&&(I+=s/2,D+=m/2/Math.tan(_),l-=s/2,a-=m/2/Math.tan(_)),C=this._window.document.createElementNS("http://www.w3.org/2000/svg","linearGradient"),C.setAttribute("id",f),C.setAttribute("gradientUnits","userSpaceOnUse"),C.setAttribute("x1",String(Math.round(D))),C.setAttribute("y1",String(Math.round(I))),C.setAttribute("x2",String(Math.round(a))),C.setAttribute("y2",String(Math.round(l)))}t.colorStops.forEach((({offset:_,color:A})=>{const D=this._window.document.createElementNS("http://www.w3.org/2000/svg","stop");D.setAttribute("offset",100*_+"%"),D.setAttribute("stop-color",A),C.appendChild(D)})),y.setAttribute("fill",`url('#${f}')`),this._defs.appendChild(C)}else e&&y.setAttribute("fill",e);this._element.appendChild(y)}}ce.instanceCount=0;const _e=ce,me="canvas",xe={};for(let d=0;d<=40;d++)xe[d]=d;const Se={type:me,shape:"square",width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:xe[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{saveAsBlob:!0,hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000",roundSize:!0},backgroundOptions:{round:0,color:"#fff"}};function ve(d){const t=Object.assign({},d);if(!t.colorStops||!t.colorStops.length)throw"Field 'colorStops' is required in gradient";return t.rotation?t.rotation=Number(t.rotation):t.rotation=0,t.colorStops=t.colorStops.map((e=>Object.assign(Object.assign({},e),{offset:Number(e.offset)}))),t}function Ee(d){const t=Object.assign({},d);return t.width=Number(t.width),t.height=Number(t.height),t.margin=Number(t.margin),t.imageOptions=Object.assign(Object.assign({},t.imageOptions),{hideBackgroundDots:!!t.imageOptions.hideBackgroundDots,imageSize:Number(t.imageOptions.imageSize),margin:Number(t.imageOptions.margin)}),t.margin>Math.min(t.width,t.height)&&(t.margin=Math.min(t.width,t.height)),t.dotsOptions=Object.assign({},t.dotsOptions),t.dotsOptions.gradient&&(t.dotsOptions.gradient=ve(t.dotsOptions.gradient)),t.cornersSquareOptions&&(t.cornersSquareOptions=Object.assign({},t.cornersSquareOptions),t.cornersSquareOptions.gradient&&(t.cornersSquareOptions.gradient=ve(t.cornersSquareOptions.gradient))),t.cornersDotOptions&&(t.cornersDotOptions=Object.assign({},t.cornersDotOptions),t.cornersDotOptions.gradient&&(t.cornersDotOptions.gradient=ve(t.cornersDotOptions.gradient))),t.backgroundOptions&&(t.backgroundOptions=Object.assign({},t.backgroundOptions),t.backgroundOptions.gradient&&(t.backgroundOptions.gradient=ve(t.backgroundOptions.gradient))),t}var Ce=S(873),Le=S.n(Ce);function be(d){if(!d)throw new Error("Extension must be defined");d[0]==="."&&(d=d.substring(1));const t={bmp:"image/bmp",gif:"image/gif",ico:"image/vnd.microsoft.icon",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",tif:"image/tiff",tiff:"image/tiff",webp:"image/webp",pdf:"application/pdf"}[d.toLowerCase()];if(!t)throw new Error(`Extension "${d}" is not supported`);return t}class p{constructor(t){t!=null&&t.jsdom?this._window=new t.jsdom("",{resources:"usable"}).window:this._window=window,this._options=t?Ee(L(Se,t)):Se,this.update()}static _clearContainer(t){t&&(t.innerHTML="")}_setupSvg(){if(!this._qr)return;const t=new _e(this._options,this._window);this._svg=t.getElement(),this._svgDrawingPromise=t.drawQR(this._qr).then((()=>{var e;this._svg&&((e=this._extension)===null||e===void 0||e.call(this,t.getElement(),this._options))}))}_setupCanvas(){var t,e;this._qr&&(!((t=this._options.nodeCanvas)===null||t===void 0)&&t.createCanvas?(this._nodeCanvas=this._options.nodeCanvas.createCanvas(this._options.width,this._options.height),this._nodeCanvas.width=this._options.width,this._nodeCanvas.height=this._options.height):(this._domCanvas=document.createElement("canvas"),this._domCanvas.width=this._options.width,this._domCanvas.height=this._options.height),this._setupSvg(),this._canvasDrawingPromise=(e=this._svgDrawingPromise)===null||e===void 0?void 0:e.then((()=>{var r;if(!this._svg)return;const n=this._svg,o=new this._window.XMLSerializer().serializeToString(n),s=btoa(o),m=`data:${be("svg")};base64,${s}`;if(!((r=this._options.nodeCanvas)===null||r===void 0)&&r.loadImage)return this._options.nodeCanvas.loadImage(m).then((f=>{var E,y;f.width=this._options.width,f.height=this._options.height,(y=(E=this._nodeCanvas)===null||E===void 0?void 0:E.getContext("2d"))===null||y===void 0||y.drawImage(f,0,0)}));{const f=new this._window.Image;return new Promise((E=>{f.onload=()=>{var y,C;(C=(y=this._domCanvas)===null||y===void 0?void 0:y.getContext("2d"))===null||C===void 0||C.drawImage(f,0,0),E()},f.src=m}))}})))}async _getElement(t="png"){if(!this._qr)throw"QR code is empty";return t.toLowerCase()==="svg"?(this._svg&&this._svgDrawingPromise||this._setupSvg(),await this._svgDrawingPromise,this._svg):((this._domCanvas||this._nodeCanvas)&&this._canvasDrawingPromise||this._setupCanvas(),await this._canvasDrawingPromise,this._domCanvas||this._nodeCanvas)}update(t){p._clearContainer(this._container),this._options=t?Ee(L(this._options,t)):this._options,this._options.data&&(this._qr=Le()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||(function(e){switch(!0){case/^[0-9]*$/.test(e):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(e):return"Alphanumeric";default:return"Byte"}})(this._options.data)),this._qr.make(),this._options.type===me?this._setupCanvas():this._setupSvg(),this.append(this._container))}append(t){if(t){if(typeof t.appendChild!="function")throw"Container should be a single DOM node";this._options.type===me?this._domCanvas&&t.appendChild(this._domCanvas):this._svg&&t.appendChild(this._svg),this._container=t}}applyExtension(t){if(!t)throw"Extension function should be defined.";this._extension=t,this.update()}deleteExtension(){this._extension=void 0,this.update()}async getRawData(t="png"){if(!this._qr)throw"QR code is empty";const e=await this._getElement(t),r=be(t);if(!e)return null;if(t.toLowerCase()==="svg"){const n=`<?xml version="1.0" standalone="no"?>\r
${new this._window.XMLSerializer().serializeToString(e)}`;return typeof Blob>"u"||this._options.jsdom?Buffer.from(n):new Blob([n],{type:r})}return new Promise((n=>{const o=e;if("toBuffer"in o)if(r==="image/png")n(o.toBuffer(r));else if(r==="image/jpeg")n(o.toBuffer(r));else{if(r!=="application/pdf")throw Error("Unsupported extension");n(o.toBuffer(r))}else"toBlob"in o&&o.toBlob(n,r,1)}))}async download(t){if(!this._qr)throw"QR code is empty";if(typeof Blob>"u")throw"Cannot download in Node.js, call getRawData instead.";let e="png",r="qr";typeof t=="string"?(e=t,console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")):typeof t=="object"&&t!==null&&(t.name&&(r=t.name),t.extension&&(e=t.extension));const n=await this._getElement(e);if(n)if(e.toLowerCase()==="svg"){let o=new XMLSerializer().serializeToString(n);o=`<?xml version="1.0" standalone="no"?>\r
`+o,R(`data:${be(e)};charset=utf-8,${encodeURIComponent(o)}`,`${r}.svg`)}else R(n.toDataURL(be(e)),`${r}.${e}`)}}const g=p})(),z.default})()))})(Oe)),Oe.exports}var mt=ft();const vt=ht(mt);function tt(u,b){const w={width:300,height:300,type:"svg",data:"",margin:0,qrOptions:{errorCorrectionLevel:"Q"},dotsOptions:{color:"#000000",type:"square"},backgroundOptions:{color:"#ffffff"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,margin:0},...b},x=new vt(w);return u.innerHTML="",x.append(u),x}function bt(u,b){u&&u.update(b)}function wt(u,b={}){if(!u)return;const{name:w="qr",extension:x="png"}=b;u.download({name:w,extension:x})}function ke(u,b,w,x){const S=b*Math.PI/180;return{type:u==="radial"?"radial":"linear",rotation:S,colorStops:[{offset:0,color:w},{offset:1,color:x}]}}function Ae(u){return u.replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,").replace(/\r?\n/g,"\\n")}function yt(){var b,w,x,S,z,M,L,R,Y,se,V,ne,oe;switch(((b=document.querySelector('.mode-tabs [role="tab"][aria-selected="true"]'))==null?void 0:b.dataset.mode)||"text"){case"text":return(((w=document.getElementById("data-text"))==null?void 0:w.value)||"").trim();case"url":return(((x=document.getElementById("data-url"))==null?void 0:x.value)||"").trim();case"email":{const F=(((S=document.getElementById("data-email"))==null?void 0:S.value)||"").trim(),P=(((z=document.getElementById("data-email-subject"))==null?void 0:z.value)||"").trim();if(!F)return"";const W="mailto:"+encodeURIComponent(F).replace(/%40/g,"@");return P?W+"?subject="+encodeURIComponent(P):W}case"phone":{const F=(((M=document.getElementById("data-phone"))==null?void 0:M.value)||"").trim();return F?"tel:"+F.replace(/\s/g,""):""}case"wifi":{const F=(((L=document.getElementById("data-wifi-ssid"))==null?void 0:L.value)||"").trim(),P=((R=document.getElementById("data-wifi-password"))==null?void 0:R.value)??"",W=((Y=document.getElementById("data-wifi-type"))==null?void 0:Y.value)||"WPA";if(!F)return"";const Z=`T:${W};`,K=P?`P:${P};`:"";return`WIFI:${Z}S:${F};${K};;`}case"vcard":{const F=(((se=document.getElementById("data-vcard-name"))==null?void 0:se.value)||"").trim(),P=(((V=document.getElementById("data-vcard-tel"))==null?void 0:V.value)||"").trim(),W=(((ne=document.getElementById("data-vcard-email"))==null?void 0:ne.value)||"").trim();if(!F&&!P&&!W)return"";const Z=["BEGIN:VCARD","VERSION:3.0"];return F&&Z.push("FN:"+Ae(F),"N:"+Ae(F)+";;;"),P&&Z.push("TEL:"+Ae(P.replace(/\s/g,""))),W&&Z.push("EMAIL:"+Ae(W)),Z.push("END:VCARD"),Z.join(`
`)}default:return(((oe=document.getElementById("data-text"))==null?void 0:oe.value)||"").trim()}}function _t(){var x,S,z,M,L,R,Y;const u=((x=document.getElementById("dots-gradient"))==null?void 0:x.checked)??!1,w={type:((S=document.querySelector('.shape-picker[data-target="dots-type"] button.active'))==null?void 0:S.dataset.value)||"square"};return u?w.gradient=ke(((z=document.getElementById("dots-grad-type"))==null?void 0:z.value)||"linear",Number((M=document.getElementById("dots-grad-rotation"))==null?void 0:M.value)||0,((L=document.getElementById("dots-grad-from"))==null?void 0:L.value)||"#000000",((R=document.getElementById("dots-grad-to"))==null?void 0:R.value)||"#333333"):(w.color=((Y=document.getElementById("dots-color"))==null?void 0:Y.value)||"#000000",w.gradient=void 0),w}function xt(){var x,S,z,M,L,R,Y;const u=((x=document.getElementById("corners-square-gradient"))==null?void 0:x.checked)??!1,w={type:((S=document.getElementById("corners-square-type"))==null?void 0:S.value)||"square"};return u?w.gradient=ke(((z=document.getElementById("corners-square-grad-type"))==null?void 0:z.value)||"linear",Number((M=document.getElementById("corners-square-grad-rotation"))==null?void 0:M.value)||0,((L=document.getElementById("corners-square-grad-from"))==null?void 0:L.value)||"#000000",((R=document.getElementById("corners-square-grad-to"))==null?void 0:R.value)||"#333333"):(w.color=((Y=document.getElementById("corners-square-color"))==null?void 0:Y.value)||"#000000",w.gradient=void 0),w}function St(){var x,S,z,M,L,R,Y;const u=((x=document.getElementById("corners-dot-gradient"))==null?void 0:x.checked)??!1,w={type:((S=document.getElementById("corners-dot-type"))==null?void 0:S.value)||"square"};return u?w.gradient=ke(((z=document.getElementById("corners-dot-grad-type"))==null?void 0:z.value)||"linear",Number((M=document.getElementById("corners-dot-grad-rotation"))==null?void 0:M.value)||0,((L=document.getElementById("corners-dot-grad-from"))==null?void 0:L.value)||"#000000",((R=document.getElementById("corners-dot-grad-to"))==null?void 0:R.value)||"#333333"):(w.color=((Y=document.getElementById("corners-dot-color"))==null?void 0:Y.value)||"#000000",w.gradient=void 0),w}function Et(){var w,x,S,z,M,L,R;return((w=document.getElementById("bg-transparent"))==null?void 0:w.checked)??!1?{color:"transparent"}:((x=document.getElementById("bg-gradient"))==null?void 0:x.checked)??!1?{gradient:ke(((S=document.getElementById("bg-grad-type"))==null?void 0:S.value)||"linear",Number((z=document.getElementById("bg-grad-rotation"))==null?void 0:z.value)||0,((M=document.getElementById("bg-grad-from"))==null?void 0:M.value)||"#ffffff",((L=document.getElementById("bg-grad-to"))==null?void 0:L.value)||"#f0f0f0")}:{color:((R=document.getElementById("bg-color"))==null?void 0:R.value)||"#ffffff",gradient:void 0}}function Ct(){var S,z,M;const u=Number((S=document.getElementById("logo-size"))==null?void 0:S.value)??40,b=Number((z=document.getElementById("logo-margin"))==null?void 0:z.value)??0,w=((M=document.getElementById("logo-hide-dots"))==null?void 0:M.checked)??!0,x=u/100;return{hideBackgroundDots:w,imageSize:x,margin:b}}function ot(u={}){var R,Y,se,V,ne;const b=yt(),w=Number((R=document.getElementById("width"))==null?void 0:R.value)||300,x=Number((Y=document.getElementById("height"))==null?void 0:Y.value)||300,S=Number((se=document.getElementById("margin"))==null?void 0:se.value)??0,z=((V=document.getElementById("shape"))==null?void 0:V.value)||"square",M=((ne=document.querySelector('input[name="ecl"]:checked'))==null?void 0:ne.value)||"Q",L={data:b||"https://github.com/jklaze/QRgen",width:w,height:x,margin:S,shape:z,type:"svg",qrOptions:{errorCorrectionLevel:M},dotsOptions:_t(),cornersSquareOptions:xt(),cornersDotOptions:St(),backgroundOptions:Et(),imageOptions:Ct()};return u.logoDataUrl?L.image=u.logoDataUrl:L.image=void 0,L}function v(u,b,w=!1){const x=typeof u=="string"?document.getElementById(u):u;x&&(w?x.checked=!!b:x.value=b)}function ue(u){const b=document.querySelector(`.shape-picker[data-target="dots-type"] button[data-value="${u}"]`);document.querySelectorAll('.shape-picker[data-target="dots-type"] button').forEach(w=>w.classList.remove("active")),b&&b.classList.add("active")}const qt=[{name:"Classic",apply(){ue("square"),v("dots-gradient",!1,!0),v("dots-color","#000000"),v("corners-square-type","square"),v("corners-square-gradient",!1,!0),v("corners-square-color","#000000"),v("corners-dot-type","square"),v("corners-dot-gradient",!1,!0),v("corners-dot-color","#000000"),v("bg-transparent",!1,!0),v("bg-gradient",!1,!0),v("bg-color","#ffffff")}},{name:"Rounded",apply(){ue("rounded"),v("dots-gradient",!1,!0),v("dots-color","#000000"),v("corners-square-type","extra-rounded"),v("corners-square-gradient",!1,!0),v("corners-square-color","#000000"),v("corners-dot-type","dot"),v("corners-dot-gradient",!1,!0),v("corners-dot-color","#000000"),v("bg-transparent",!1,!0),v("bg-gradient",!1,!0),v("bg-color","#ffffff")}},{name:"Dots",apply(){ue("dots"),v("dots-gradient",!1,!0),v("dots-color","#1a1a2e"),v("corners-square-type","dots"),v("corners-square-gradient",!1,!0),v("corners-square-color","#1a1a2e"),v("corners-dot-type","dots"),v("corners-dot-gradient",!1,!0),v("corners-dot-color","#1a1a2e"),v("bg-transparent",!1,!0),v("bg-gradient",!1,!0),v("bg-color","#f5f5f5")}},{name:"Gradient",apply(){ue("rounded"),v("dots-gradient",!0,!0),v("dots-grad-type","linear"),v("dots-grad-rotation","135"),v("dots-grad-from","#667eea"),v("dots-grad-to","#764ba2"),v("corners-square-type","extra-rounded"),v("corners-square-gradient",!0,!0),v("corners-square-grad-type","linear"),v("corners-square-grad-rotation","135"),v("corners-square-grad-from","#667eea"),v("corners-square-grad-to","#764ba2"),v("corners-dot-type","dot"),v("corners-dot-gradient",!0,!0),v("corners-dot-grad-type","linear"),v("corners-dot-grad-rotation","135"),v("corners-dot-grad-from","#667eea"),v("corners-dot-grad-to","#764ba2"),v("bg-transparent",!1,!0),v("bg-gradient",!0,!0),v("bg-grad-type","linear"),v("bg-grad-rotation","0"),v("bg-grad-from","#fdfbfb"),v("bg-grad-to","#ebedee")}},{name:"Neon",apply(){ue("rounded"),v("dots-gradient",!1,!0),v("dots-color","#00d4ff"),v("corners-square-type","extra-rounded"),v("corners-square-gradient",!1,!0),v("corners-square-color","#00d4ff"),v("corners-dot-type","dot"),v("corners-dot-gradient",!1,!0),v("corners-dot-color","#ff6bb3"),v("bg-transparent",!1,!0),v("bg-gradient",!1,!0),v("bg-color","#0f0a1f")}},{name:"Elegant",apply(){ue("classy-rounded"),v("dots-gradient",!1,!0),v("dots-color","#2d1f54"),v("corners-square-type","classy-rounded"),v("corners-square-gradient",!1,!0),v("corners-square-color","#2d1f54"),v("corners-dot-type","classy-rounded"),v("corners-dot-gradient",!1,!0),v("corners-dot-color","#2d1f54"),v("bg-transparent",!1,!0),v("bg-gradient",!1,!0),v("bg-color","#f8f6ff")}},{name:"Minimal",apply(){ue("square"),v("dots-gradient",!1,!0),v("dots-color","#000000"),v("corners-square-type","square"),v("corners-square-gradient",!1,!0),v("corners-square-color","#000000"),v("corners-dot-type","square"),v("corners-dot-gradient",!1,!0),v("corners-dot-color","#000000"),v("bg-transparent",!0,!0),v("bg-gradient",!1,!0),v("bg-color","#ffffff")}}],At=120;let ye=null,$e=null,Be=null;const rt=document.getElementById("qr-container");function ie(){Be&&clearTimeout(Be),Be=setTimeout(()=>{var w,x;Be=null;const u=ot({logoDataUrl:$e});ye?bt(ye,u):ye=tt(rt,u);const b=((w=document.getElementById("bg-transparent"))==null?void 0:w.checked)??!1;(x=document.querySelector(".preview-card"))==null||x.classList.toggle("transparent-bg",b),typeof fe=="function"&&fe()},At)}function Bt(){ye=tt(rt,ot({logoDataUrl:$e}))}function It(u){document.querySelectorAll('.mode-tabs [role="tab"]').forEach(b=>{b.setAttribute("aria-selected",b.dataset.mode===u?"true":"false")}),document.querySelectorAll(".data-panel").forEach(b=>{b.classList.toggle("hidden",b.dataset.panel!==u)}),ie()}document.querySelectorAll('.mode-tabs [role="tab"]').forEach(u=>{u.addEventListener("click",()=>It(u.dataset.mode))});document.querySelectorAll(".accordion").forEach(u=>{const b=u.querySelector(".accordion-header"),w=u.querySelector(".accordion-panel");!b||!w||(b.addEventListener("click",()=>{const x=b.getAttribute("aria-expanded")!=="true";b.setAttribute("aria-expanded",x),w.hidden=!x,u.dataset.open=x,typeof fe=="function"&&fe()}),u.dataset.open="true")});const Ie=document.querySelector('.shape-picker[data-target="dots-type"]');var Ue;Ie&&((Ue=Ie.querySelector('button[data-value="square"]'))==null||Ue.classList.add("active"),Ie.querySelectorAll("button").forEach(u=>{u.addEventListener("click",()=>{Ie.querySelectorAll("button").forEach(b=>b.classList.remove("active")),u.classList.add("active"),ie()})}));function nt(){var b;const u=((b=document.getElementById("dots-gradient"))==null?void 0:b.checked)??!1;document.querySelectorAll(".dots-solid").forEach(w=>w.classList.toggle("hidden",u)),document.querySelectorAll(".dots-gradient").forEach(w=>w.classList.toggle("hidden",!u)),ie()}function at(){var b;const u=((b=document.getElementById("corners-square-gradient"))==null?void 0:b.checked)??!1;document.querySelectorAll(".corners-square-solid").forEach(w=>w.classList.toggle("hidden",u)),document.querySelectorAll(".corners-square-gradient").forEach(w=>w.classList.toggle("hidden",!u)),ie()}function it(){var b;const u=((b=document.getElementById("corners-dot-gradient"))==null?void 0:b.checked)??!1;document.querySelectorAll(".corners-dot-solid").forEach(w=>w.classList.toggle("hidden",u)),document.querySelectorAll(".corners-dot-gradient").forEach(w=>w.classList.toggle("hidden",!u)),ie()}function Ne(){var w,x;const u=((w=document.getElementById("bg-transparent"))==null?void 0:w.checked)??!1,b=((x=document.getElementById("bg-gradient"))==null?void 0:x.checked)??!1;document.querySelectorAll(".bg-solid").forEach(S=>S.classList.toggle("hidden",u)),document.querySelectorAll(".bg-gradient-el").forEach(S=>S.classList.toggle("hidden",!b||u)),ie()}var Ge;(Ge=document.getElementById("dots-gradient"))==null||Ge.addEventListener("change",nt);var We;(We=document.getElementById("corners-square-gradient"))==null||We.addEventListener("change",at);var Ye;(Ye=document.getElementById("corners-dot-gradient"))==null||Ye.addEventListener("change",it);var Xe;(Xe=document.getElementById("bg-transparent"))==null||Xe.addEventListener("change",Ne);var Ve;(Ve=document.getElementById("bg-gradient"))==null||Ve.addEventListener("change",Ne);const Mt=[["width","width-value"],["height","height-value"],["margin","margin-value"],["logo-size","logo-size-value",u=>(Number(u)/100).toFixed(2)],["logo-margin","logo-margin-value"]];Mt.forEach(([u,b,w=x=>x])=>{const x=document.getElementById(u),S=document.getElementById(b);if(!x||!S)return;const z=()=>{S.textContent=w(x.value),ie()};x.addEventListener("input",z),z()});const Ot=["data-text","data-url","data-email","data-email-subject","data-phone","data-wifi-ssid","data-wifi-password","data-wifi-type","data-vcard-name","data-vcard-tel","data-vcard-email","shape","dots-color","dots-grad-type","dots-grad-rotation","dots-grad-from","dots-grad-to","corners-square-type","corners-square-color","corners-square-grad-type","corners-square-grad-rotation","corners-square-grad-from","corners-square-grad-to","corners-dot-type","corners-dot-color","corners-dot-grad-type","corners-dot-grad-rotation","corners-dot-grad-from","corners-dot-grad-to","bg-color","bg-grad-type","bg-grad-rotation","bg-grad-from","bg-grad-to","logo-size","logo-margin","logo-hide-dots"];Ot.forEach(u=>{const b=document.getElementById(u);b&&b.addEventListener("input",ie)});document.querySelectorAll('input[name="ecl"]').forEach(u=>{u.addEventListener("change",ie)});document.querySelectorAll("#corners-square-type, #corners-dot-type").forEach(u=>{u.addEventListener("change",ie)});function st(u){if(!u||!u.type.startsWith("image/"))return;const b=new FileReader;b.onload=w=>{var x;$e=((x=w.target)==null?void 0:x.result)??null,ie()},b.readAsDataURL(u)}var Ze;(Ze=document.getElementById("logo-file"))==null||Ze.addEventListener("change",u=>{var w;const b=(w=u.target.files)==null?void 0:w[0];st(b)});const ge=document.getElementById("logo-drop-zone");ge&&(ge.addEventListener("dragover",u=>{u.preventDefault(),ge.classList.add("dragover")}),ge.addEventListener("dragleave",()=>ge.classList.remove("dragover")),ge.addEventListener("drop",u=>{var w,x;u.preventDefault(),ge.classList.remove("dragover");const b=(x=(w=u.dataTransfer)==null?void 0:w.files)==null?void 0:x[0];st(b)}));var Ke;(Ke=document.getElementById("logo-clear"))==null||Ke.addEventListener("click",()=>{$e=null;const u=document.getElementById("logo-file");u&&(u.value=""),ie()});const Fe=document.getElementById("preset-buttons");Fe&&qt.forEach(u=>{const b=document.createElement("button");b.type="button",b.textContent=u.name,b.addEventListener("click",()=>{u.apply(),nt(),at(),it(),Ne(),ie()}),Fe.appendChild(b)});const ze=document.getElementById("export-float-btn"),de=document.getElementById("export-modal-overlay"),Pe=document.getElementById("export-modal-close");function kt(){de&&(de.hidden=!1,de.setAttribute("aria-hidden","false"))}function De(){de&&(de.hidden=!0,de.setAttribute("aria-hidden","true"))}ze==null||ze.addEventListener("click",kt);Pe==null||Pe.addEventListener("click",De);de==null||de.addEventListener("click",u=>{u.target===de&&De()});document.addEventListener("keydown",u=>{u.key==="Escape"&&de&&!de.hidden&&De()});var Je;(Je=document.getElementById("download-btn"))==null||Je.addEventListener("click",()=>{var w,x;const u=(((w=document.getElementById("export-filename"))==null?void 0:w.value)||"qr").trim()||"qr",b=((x=document.getElementById("export-format"))==null?void 0:x.value)||"png";wt(ye,{name:u,extension:b}),De()});const pe=document.querySelector(".preview-card"),He=document.querySelector(".preview-area"),$t=.08;let he=0,Me=0,Qe=null,Re=!1;function Dt(){if(!pe||!He||window.innerWidth<=900)return 0;const u=He.getBoundingClientRect(),b=pe.offsetHeight;let S=(window.innerHeight-b)/2-u.top;return S=Math.max(0,Math.min(S,u.height-b)),S}function dt(){Me=Dt();const u=Me-he;Math.abs(u)>.5?he+=u*$t:he=Me,pe&&he!==Qe&&(pe.style.transform=`translateY(${he}px)`,Qe=he),Math.abs(Me-he)>.5?requestAnimationFrame(dt):Re=!1}function fe(){Re||(Re=!0,requestAnimationFrame(dt))}fe();window.addEventListener("scroll",fe,{passive:!0});window.addEventListener("resize",fe,{passive:!0});Bt();var et;const Lt=((et=document.getElementById("bg-transparent"))==null?void 0:et.checked)??!1;pe==null||pe.classList.toggle("transparent-bg",Lt);
