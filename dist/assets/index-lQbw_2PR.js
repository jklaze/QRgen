(function(){const w=document.createElement("link").relList;if(w&&w.supports&&w.supports("modulepreload"))return;for(const y of document.querySelectorAll('link[rel="modulepreload"]'))v(y);new MutationObserver(y=>{for(const A of y)if(A.type==="childList")for(const x of A.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&v(x)}).observe(document,{childList:!0,subtree:!0});function b(y){const A={};return y.integrity&&(A.integrity=y.integrity),y.referrerPolicy&&(A.referrerPolicy=y.referrerPolicy),y.crossOrigin==="use-credentials"?A.credentials="include":y.crossOrigin==="anonymous"?A.credentials="omit":A.credentials="same-origin",A}function v(y){if(y.ep)return;y.ep=!0;const A=b(y);fetch(y.href,A)}})();function Bt(T){return T&&T.__esModule&&Object.prototype.hasOwnProperty.call(T,"default")?T.default:T}var _t={exports:{}},It=_t.exports,Ct;function Ot(){return Ct||(Ct=1,(function(T,w){(function(b,v){T.exports=v()})(It,(()=>(()=>{var b={873:(x,I)=>{var P,Q,X=(function(){var K=function(h,l){var d=h,e=Z[l],t=null,n=0,o=null,r=[],s={},p=function(i,u){t=(function(a){for(var c=new Array(a),g=0;g<a;g+=1){c[g]=new Array(a);for(var q=0;q<a;q+=1)c[g][q]=null}return c})(n=4*d+17),f(0,0),f(n-7,0),f(0,n-7),_(),C(),S(i,u),d>=7&&E(i),o==null&&(o=z(d,e,r)),B(o,u)},f=function(i,u){for(var a=-1;a<=7;a+=1)if(!(i+a<=-1||n<=i+a))for(var c=-1;c<=7;c+=1)u+c<=-1||n<=u+c||(t[i+a][u+c]=0<=a&&a<=6&&(c==0||c==6)||0<=c&&c<=6&&(a==0||a==6)||2<=a&&a<=4&&2<=c&&c<=4)},C=function(){for(var i=8;i<n-8;i+=1)t[i][6]==null&&(t[i][6]=i%2==0);for(var u=8;u<n-8;u+=1)t[6][u]==null&&(t[6][u]=u%2==0)},_=function(){for(var i=G.getPatternPosition(d),u=0;u<i.length;u+=1)for(var a=0;a<i.length;a+=1){var c=i[u],g=i[a];if(t[c][g]==null)for(var q=-2;q<=2;q+=1)for(var $=-2;$<=2;$+=1)t[c+q][g+$]=q==-2||q==2||$==-2||$==2||q==0&&$==0}},E=function(i){for(var u=G.getBCHTypeNumber(d),a=0;a<18;a+=1){var c=!i&&(u>>a&1)==1;t[Math.floor(a/3)][a%3+n-8-3]=c}for(a=0;a<18;a+=1)c=!i&&(u>>a&1)==1,t[a%3+n-8-3][Math.floor(a/3)]=c},S=function(i,u){for(var a=e<<3|u,c=G.getBCHTypeInfo(a),g=0;g<15;g+=1){var q=!i&&(c>>g&1)==1;g<6?t[g][8]=q:g<8?t[g+1][8]=q:t[n-15+g][8]=q}for(g=0;g<15;g+=1)q=!i&&(c>>g&1)==1,g<8?t[8][n-g-1]=q:g<9?t[8][15-g-1+1]=q:t[8][15-g-1]=q;t[n-8][8]=!i},B=function(i,u){for(var a=-1,c=n-1,g=7,q=0,$=G.getMaskFunction(u),L=n-1;L>0;L-=2)for(L==6&&(L-=1);;){for(var j=0;j<2;j+=1)if(t[c][L-j]==null){var R=!1;q<i.length&&(R=(i[q]>>>g&1)==1),$(c,L-j)&&(R=!R),t[c][L-j]=R,(g-=1)==-1&&(q+=1,g=7)}if((c+=a)<0||n<=c){c-=a,a=-a;break}}},z=function(i,u,a){for(var c=ft.getRSBlocks(i,u),g=ct(),q=0;q<a.length;q+=1){var $=a[q];g.put($.getMode(),4),g.put($.getLength(),G.getLengthInBits($.getMode(),i)),$.write(g)}var L=0;for(q=0;q<c.length;q+=1)L+=c[q].dataCount;if(g.getLengthInBits()>8*L)throw"code length overflow. ("+g.getLengthInBits()+">"+8*L+")";for(g.getLengthInBits()+4<=8*L&&g.put(0,4);g.getLengthInBits()%8!=0;)g.putBit(!1);for(;!(g.getLengthInBits()>=8*L||(g.put(236,8),g.getLengthInBits()>=8*L));)g.put(17,8);return(function(j,R){for(var U=0,tt=0,W=0,F=new Array(R.length),N=new Array(R.length),O=0;O<R.length;O+=1){var H=R[O].dataCount,V=R[O].totalCount-H;tt=Math.max(tt,H),W=Math.max(W,V),F[O]=new Array(H);for(var D=0;D<F[O].length;D+=1)F[O][D]=255&j.getBuffer()[D+U];U+=H;var at=G.getErrorCorrectPolynomial(V),ot=dt(F[O],at.getLength()-1).mod(at);for(N[O]=new Array(at.getLength()-1),D=0;D<N[O].length;D+=1){var rt=D+ot.getLength()-N[O].length;N[O][D]=rt>=0?ot.getAt(rt):0}}var yt=0;for(D=0;D<R.length;D+=1)yt+=R[D].totalCount;var ht=new Array(yt),st=0;for(D=0;D<tt;D+=1)for(O=0;O<R.length;O+=1)D<F[O].length&&(ht[st]=F[O][D],st+=1);for(D=0;D<W;D+=1)for(O=0;O<R.length;O+=1)D<N[O].length&&(ht[st]=N[O][D],st+=1);return ht})(g,c)};s.addData=function(i,u){var a=null;switch(u=u||"Byte"){case"Numeric":a=pt(i);break;case"Alphanumeric":a=mt(i);break;case"Byte":a=lt(i);break;case"Kanji":a=wt(i);break;default:throw"mode:"+u}r.push(a),o=null},s.isDark=function(i,u){if(i<0||n<=i||u<0||n<=u)throw i+","+u;return t[i][u]},s.getModuleCount=function(){return n},s.make=function(){if(d<1){for(var i=1;i<40;i++){for(var u=ft.getRSBlocks(i,e),a=ct(),c=0;c<r.length;c++){var g=r[c];a.put(g.getMode(),4),a.put(g.getLength(),G.getLengthInBits(g.getMode(),i)),g.write(a)}var q=0;for(c=0;c<u.length;c++)q+=u[c].dataCount;if(a.getLengthInBits()<=8*q)break}d=i}p(!1,(function(){for(var $=0,L=0,j=0;j<8;j+=1){p(!0,j);var R=G.getLostPoint(s);(j==0||$>R)&&($=R,L=j)}return L})())},s.createTableTag=function(i,u){i=i||2;var a="";a+='<table style="',a+=" border-width: 0px; border-style: none;",a+=" border-collapse: collapse;",a+=" padding: 0px; margin: "+(u=u===void 0?4*i:u)+"px;",a+='">',a+="<tbody>";for(var c=0;c<s.getModuleCount();c+=1){a+="<tr>";for(var g=0;g<s.getModuleCount();g+=1)a+='<td style="',a+=" border-width: 0px; border-style: none;",a+=" border-collapse: collapse;",a+=" padding: 0px; margin: 0px;",a+=" width: "+i+"px;",a+=" height: "+i+"px;",a+=" background-color: ",a+=s.isDark(c,g)?"#000000":"#ffffff",a+=";",a+='"/>';a+="</tr>"}return(a+="</tbody>")+"</table>"},s.createSvgTag=function(i,u,a,c){var g={};typeof arguments[0]=="object"&&(i=(g=arguments[0]).cellSize,u=g.margin,a=g.alt,c=g.title),i=i||2,u=u===void 0?4*i:u,(a=typeof a=="string"?{text:a}:a||{}).text=a.text||null,a.id=a.text?a.id||"qrcode-description":null,(c=typeof c=="string"?{text:c}:c||{}).text=c.text||null,c.id=c.text?c.id||"qrcode-title":null;var q,$,L,j,R=s.getModuleCount()*i+2*u,U="";for(j="l"+i+",0 0,"+i+" -"+i+",0 0,-"+i+"z ",U+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',U+=g.scalable?"":' width="'+R+'px" height="'+R+'px"',U+=' viewBox="0 0 '+R+" "+R+'" ',U+=' preserveAspectRatio="xMinYMin meet"',U+=c.text||a.text?' role="img" aria-labelledby="'+M([c.id,a.id].join(" ").trim())+'"':"",U+=">",U+=c.text?'<title id="'+M(c.id)+'">'+M(c.text)+"</title>":"",U+=a.text?'<description id="'+M(a.id)+'">'+M(a.text)+"</description>":"",U+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',U+='<path d="',$=0;$<s.getModuleCount();$+=1)for(L=$*i+u,q=0;q<s.getModuleCount();q+=1)s.isDark($,q)&&(U+="M"+(q*i+u)+","+L+j);return(U+='" stroke="transparent" fill="black"/>')+"</svg>"},s.createDataURL=function(i,u){i=i||2,u=u===void 0?4*i:u;var a=s.getModuleCount()*i+2*u,c=u,g=a-u;return gt(a,a,(function(q,$){if(c<=q&&q<g&&c<=$&&$<g){var L=Math.floor((q-c)/i),j=Math.floor(($-c)/i);return s.isDark(j,L)?0:1}return 1}))},s.createImgTag=function(i,u,a){i=i||2,u=u===void 0?4*i:u;var c=s.getModuleCount()*i+2*u,g="";return g+="<img",g+=' src="',g+=s.createDataURL(i,u),g+='"',g+=' width="',g+=c,g+='"',g+=' height="',g+=c,g+='"',a&&(g+=' alt="',g+=M(a),g+='"'),g+"/>"};var M=function(i){for(var u="",a=0;a<i.length;a+=1){var c=i.charAt(a);switch(c){case"<":u+="&lt;";break;case">":u+="&gt;";break;case"&":u+="&amp;";break;case'"':u+="&quot;";break;default:u+=c}}return u};return s.createASCII=function(i,u){if((i=i||1)<2)return(function(F){F=F===void 0?2:F;var N,O,H,V,D,at=1*s.getModuleCount()+2*F,ot=F,rt=at-F,yt={"██":"█","█ ":"▀"," █":"▄","  ":" "},ht={"██":"▀","█ ":"▀"," █":" ","  ":" "},st="";for(N=0;N<at;N+=2){for(H=Math.floor((N-ot)/1),V=Math.floor((N+1-ot)/1),O=0;O<at;O+=1)D="█",ot<=O&&O<rt&&ot<=N&&N<rt&&s.isDark(H,Math.floor((O-ot)/1))&&(D=" "),ot<=O&&O<rt&&ot<=N+1&&N+1<rt&&s.isDark(V,Math.floor((O-ot)/1))?D+=" ":D+="█",st+=F<1&&N+1>=rt?ht[D]:yt[D];st+=`
`}return at%2&&F>0?st.substring(0,st.length-at-1)+Array(at+1).join("▀"):st.substring(0,st.length-1)})(u);i-=1,u=u===void 0?2*i:u;var a,c,g,q,$=s.getModuleCount()*i+2*u,L=u,j=$-u,R=Array(i+1).join("██"),U=Array(i+1).join("  "),tt="",W="";for(a=0;a<$;a+=1){for(g=Math.floor((a-L)/i),W="",c=0;c<$;c+=1)q=1,L<=c&&c<j&&L<=a&&a<j&&s.isDark(g,Math.floor((c-L)/i))&&(q=0),W+=q?R:U;for(g=0;g<i;g+=1)tt+=W+`
`}return tt.substring(0,tt.length-1)},s.renderTo2dContext=function(i,u){u=u||2;for(var a=s.getModuleCount(),c=0;c<a;c++)for(var g=0;g<a;g++)i.fillStyle=s.isDark(c,g)?"black":"white",i.fillRect(c*u,g*u,u,u)},s};K.stringToBytes=(K.stringToBytesFuncs={default:function(h){for(var l=[],d=0;d<h.length;d+=1){var e=h.charCodeAt(d);l.push(255&e)}return l}}).default,K.createStringToBytes=function(h,l){var d=(function(){for(var t=St(h),n=function(){var C=t.read();if(C==-1)throw"eof";return C},o=0,r={};;){var s=t.read();if(s==-1)break;var p=n(),f=n()<<8|n();r[String.fromCharCode(s<<8|p)]=f,o+=1}if(o!=l)throw o+" != "+l;return r})(),e=63;return function(t){for(var n=[],o=0;o<t.length;o+=1){var r=t.charCodeAt(o);if(r<128)n.push(r);else{var s=d[t.charAt(o)];typeof s=="number"?(255&s)==s?n.push(s):(n.push(s>>>8),n.push(255&s)):n.push(e)}}return n}};var it,nt,et,k,Y,Z={L:1,M:0,Q:3,H:2},G=(it=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],nt=1335,et=7973,Y=function(h){for(var l=0;h!=0;)l+=1,h>>>=1;return l},(k={}).getBCHTypeInfo=function(h){for(var l=h<<10;Y(l)-Y(nt)>=0;)l^=nt<<Y(l)-Y(nt);return 21522^(h<<10|l)},k.getBCHTypeNumber=function(h){for(var l=h<<12;Y(l)-Y(et)>=0;)l^=et<<Y(l)-Y(et);return h<<12|l},k.getPatternPosition=function(h){return it[h-1]},k.getMaskFunction=function(h){switch(h){case 0:return function(l,d){return(l+d)%2==0};case 1:return function(l,d){return l%2==0};case 2:return function(l,d){return d%3==0};case 3:return function(l,d){return(l+d)%3==0};case 4:return function(l,d){return(Math.floor(l/2)+Math.floor(d/3))%2==0};case 5:return function(l,d){return l*d%2+l*d%3==0};case 6:return function(l,d){return(l*d%2+l*d%3)%2==0};case 7:return function(l,d){return(l*d%3+(l+d)%2)%2==0};default:throw"bad maskPattern:"+h}},k.getErrorCorrectPolynomial=function(h){for(var l=dt([1],0),d=0;d<h;d+=1)l=l.multiply(dt([1,J.gexp(d)],0));return l},k.getLengthInBits=function(h,l){if(1<=l&&l<10)switch(h){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+h}else if(l<27)switch(h){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+h}else{if(!(l<41))throw"type:"+l;switch(h){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+h}}},k.getLostPoint=function(h){for(var l=h.getModuleCount(),d=0,e=0;e<l;e+=1)for(var t=0;t<l;t+=1){for(var n=0,o=h.isDark(e,t),r=-1;r<=1;r+=1)if(!(e+r<0||l<=e+r))for(var s=-1;s<=1;s+=1)t+s<0||l<=t+s||r==0&&s==0||o==h.isDark(e+r,t+s)&&(n+=1);n>5&&(d+=3+n-5)}for(e=0;e<l-1;e+=1)for(t=0;t<l-1;t+=1){var p=0;h.isDark(e,t)&&(p+=1),h.isDark(e+1,t)&&(p+=1),h.isDark(e,t+1)&&(p+=1),h.isDark(e+1,t+1)&&(p+=1),p!=0&&p!=4||(d+=3)}for(e=0;e<l;e+=1)for(t=0;t<l-6;t+=1)h.isDark(e,t)&&!h.isDark(e,t+1)&&h.isDark(e,t+2)&&h.isDark(e,t+3)&&h.isDark(e,t+4)&&!h.isDark(e,t+5)&&h.isDark(e,t+6)&&(d+=40);for(t=0;t<l;t+=1)for(e=0;e<l-6;e+=1)h.isDark(e,t)&&!h.isDark(e+1,t)&&h.isDark(e+2,t)&&h.isDark(e+3,t)&&h.isDark(e+4,t)&&!h.isDark(e+5,t)&&h.isDark(e+6,t)&&(d+=40);var f=0;for(t=0;t<l;t+=1)for(e=0;e<l;e+=1)h.isDark(e,t)&&(f+=1);return d+Math.abs(100*f/l/l-50)/5*10},k),J=(function(){for(var h=new Array(256),l=new Array(256),d=0;d<8;d+=1)h[d]=1<<d;for(d=8;d<256;d+=1)h[d]=h[d-4]^h[d-5]^h[d-6]^h[d-8];for(d=0;d<255;d+=1)l[h[d]]=d;return{glog:function(e){if(e<1)throw"glog("+e+")";return l[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return h[e]}}})();function dt(h,l){if(h.length===void 0)throw h.length+"/"+l;var d=(function(){for(var t=0;t<h.length&&h[t]==0;)t+=1;for(var n=new Array(h.length-t+l),o=0;o<h.length-t;o+=1)n[o]=h[o+t];return n})(),e={getAt:function(t){return d[t]},getLength:function(){return d.length},multiply:function(t){for(var n=new Array(e.getLength()+t.getLength()-1),o=0;o<e.getLength();o+=1)for(var r=0;r<t.getLength();r+=1)n[o+r]^=J.gexp(J.glog(e.getAt(o))+J.glog(t.getAt(r)));return dt(n,0)},mod:function(t){if(e.getLength()-t.getLength()<0)return e;for(var n=J.glog(e.getAt(0))-J.glog(t.getAt(0)),o=new Array(e.getLength()),r=0;r<e.getLength();r+=1)o[r]=e.getAt(r);for(r=0;r<t.getLength();r+=1)o[r]^=J.gexp(J.glog(t.getAt(r))+n);return dt(o,0).mod(t)}};return e}var ft=(function(){var h=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],l=function(e,t){var n={};return n.totalCount=e,n.dataCount=t,n},d={getRSBlocks:function(e,t){var n=(function(E,S){switch(S){case Z.L:return h[4*(E-1)+0];case Z.M:return h[4*(E-1)+1];case Z.Q:return h[4*(E-1)+2];case Z.H:return h[4*(E-1)+3];default:return}})(e,t);if(n===void 0)throw"bad rs block @ typeNumber:"+e+"/errorCorrectionLevel:"+t;for(var o=n.length/3,r=[],s=0;s<o;s+=1)for(var p=n[3*s+0],f=n[3*s+1],C=n[3*s+2],_=0;_<p;_+=1)r.push(l(f,C));return r}};return d})(),ct=function(){var h=[],l=0,d={getBuffer:function(){return h},getAt:function(e){var t=Math.floor(e/8);return(h[t]>>>7-e%8&1)==1},put:function(e,t){for(var n=0;n<t;n+=1)d.putBit((e>>>t-n-1&1)==1)},getLengthInBits:function(){return l},putBit:function(e){var t=Math.floor(l/8);h.length<=t&&h.push(0),e&&(h[t]|=128>>>l%8),l+=1}};return d},pt=function(h){var l=h,d={getMode:function(){return 1},getLength:function(n){return l.length},write:function(n){for(var o=l,r=0;r+2<o.length;)n.put(e(o.substring(r,r+3)),10),r+=3;r<o.length&&(o.length-r==1?n.put(e(o.substring(r,r+1)),4):o.length-r==2&&n.put(e(o.substring(r,r+2)),7))}},e=function(n){for(var o=0,r=0;r<n.length;r+=1)o=10*o+t(n.charAt(r));return o},t=function(n){if("0"<=n&&n<="9")return n.charCodeAt(0)-48;throw"illegal char :"+n};return d},mt=function(h){var l=h,d={getMode:function(){return 2},getLength:function(t){return l.length},write:function(t){for(var n=l,o=0;o+1<n.length;)t.put(45*e(n.charAt(o))+e(n.charAt(o+1)),11),o+=2;o<n.length&&t.put(e(n.charAt(o)),6)}},e=function(t){if("0"<=t&&t<="9")return t.charCodeAt(0)-48;if("A"<=t&&t<="Z")return t.charCodeAt(0)-65+10;switch(t){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+t}};return d},lt=function(h){var l=K.stringToBytes(h);return{getMode:function(){return 4},getLength:function(d){return l.length},write:function(d){for(var e=0;e<l.length;e+=1)d.put(l[e],8)}}},wt=function(h){var l=K.stringToBytesFuncs.SJIS;if(!l)throw"sjis not supported.";(function(){var t=l("友");if(t.length!=2||(t[0]<<8|t[1])!=38726)throw"sjis not supported."})();var d=l(h),e={getMode:function(){return 8},getLength:function(t){return~~(d.length/2)},write:function(t){for(var n=d,o=0;o+1<n.length;){var r=(255&n[o])<<8|255&n[o+1];if(33088<=r&&r<=40956)r-=33088;else{if(!(57408<=r&&r<=60351))throw"illegal char at "+(o+1)+"/"+r;r-=49472}r=192*(r>>>8&255)+(255&r),t.put(r,13),o+=2}if(o<n.length)throw"illegal char at "+(o+1)}};return e},vt=function(){var h=[],l={writeByte:function(d){h.push(255&d)},writeShort:function(d){l.writeByte(d),l.writeByte(d>>>8)},writeBytes:function(d,e,t){e=e||0,t=t||d.length;for(var n=0;n<t;n+=1)l.writeByte(d[n+e])},writeString:function(d){for(var e=0;e<d.length;e+=1)l.writeByte(d.charCodeAt(e))},toByteArray:function(){return h},toString:function(){var d="";d+="[";for(var e=0;e<h.length;e+=1)e>0&&(d+=","),d+=h[e];return d+"]"}};return l},St=function(h){var l=h,d=0,e=0,t=0,n={read:function(){for(;t<8;){if(d>=l.length){if(t==0)return-1;throw"unexpected end of file./"+t}var r=l.charAt(d);if(d+=1,r=="=")return t=0,-1;r.match(/^\s$/)||(e=e<<6|o(r.charCodeAt(0)),t+=6)}var s=e>>>t-8&255;return t-=8,s}},o=function(r){if(65<=r&&r<=90)return r-65;if(97<=r&&r<=122)return r-97+26;if(48<=r&&r<=57)return r-48+52;if(r==43)return 62;if(r==47)return 63;throw"c:"+r};return n},gt=function(h,l,d){for(var e=(function(f,C){var _=f,E=C,S=new Array(f*C),B={setPixel:function(i,u,a){S[u*_+i]=a},write:function(i){i.writeString("GIF87a"),i.writeShort(_),i.writeShort(E),i.writeByte(128),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(255),i.writeByte(255),i.writeByte(255),i.writeString(","),i.writeShort(0),i.writeShort(0),i.writeShort(_),i.writeShort(E),i.writeByte(0);var u=z(2);i.writeByte(2);for(var a=0;u.length-a>255;)i.writeByte(255),i.writeBytes(u,a,255),a+=255;i.writeByte(u.length-a),i.writeBytes(u,a,u.length-a),i.writeByte(0),i.writeString(";")}},z=function(i){for(var u=1<<i,a=1+(1<<i),c=i+1,g=M(),q=0;q<u;q+=1)g.add(String.fromCharCode(q));g.add(String.fromCharCode(u)),g.add(String.fromCharCode(a));var $,L,j,R=vt(),U=($=R,L=0,j=0,{write:function(N,O){if(N>>>O)throw"length over";for(;L+O>=8;)$.writeByte(255&(N<<L|j)),O-=8-L,N>>>=8-L,j=0,L=0;j|=N<<L,L+=O},flush:function(){L>0&&$.writeByte(j)}});U.write(u,c);var tt=0,W=String.fromCharCode(S[tt]);for(tt+=1;tt<S.length;){var F=String.fromCharCode(S[tt]);tt+=1,g.contains(W+F)?W+=F:(U.write(g.indexOf(W),c),g.size()<4095&&(g.size()==1<<c&&(c+=1),g.add(W+F)),W=F)}return U.write(g.indexOf(W),c),U.write(a,c),U.flush(),R.toByteArray()},M=function(){var i={},u=0,a={add:function(c){if(a.contains(c))throw"dup key:"+c;i[c]=u,u+=1},size:function(){return u},indexOf:function(c){return i[c]},contains:function(c){return i[c]!==void 0}};return a};return B})(h,l),t=0;t<l;t+=1)for(var n=0;n<h;n+=1)e.setPixel(n,t,d(n,t));var o=vt();e.write(o);for(var r=(function(){var f=0,C=0,_=0,E="",S={},B=function(M){E+=String.fromCharCode(z(63&M))},z=function(M){if(!(M<0)){if(M<26)return 65+M;if(M<52)return M-26+97;if(M<62)return M-52+48;if(M==62)return 43;if(M==63)return 47}throw"n:"+M};return S.writeByte=function(M){for(f=f<<8|255&M,C+=8,_+=1;C>=6;)B(f>>>C-6),C-=6},S.flush=function(){if(C>0&&(B(f<<6-C),f=0,C=0),_%3!=0)for(var M=3-_%3,i=0;i<M;i+=1)E+="="},S.toString=function(){return E},S})(),s=o.toByteArray(),p=0;p<s.length;p+=1)r.writeByte(s[p]);return r.flush(),"data:image/gif;base64,"+r};return K})();X.stringToBytesFuncs["UTF-8"]=function(K){return(function(it){for(var nt=[],et=0;et<it.length;et++){var k=it.charCodeAt(et);k<128?nt.push(k):k<2048?nt.push(192|k>>6,128|63&k):k<55296||k>=57344?nt.push(224|k>>12,128|k>>6&63,128|63&k):(et++,k=65536+((1023&k)<<10|1023&it.charCodeAt(et)),nt.push(240|k>>18,128|k>>12&63,128|k>>6&63,128|63&k))}return nt})(K)},(Q=typeof(P=function(){return X})=="function"?P.apply(I,[]):P)===void 0||(x.exports=Q)}},v={};function y(x){var I=v[x];if(I!==void 0)return I.exports;var P=v[x]={exports:{}};return b[x](P,P.exports,y),P.exports}y.n=x=>{var I=x&&x.__esModule?()=>x.default:()=>x;return y.d(I,{a:I}),I},y.d=(x,I)=>{for(var P in I)y.o(I,P)&&!y.o(x,P)&&Object.defineProperty(x,P,{enumerable:!0,get:I[P]})},y.o=(x,I)=>Object.prototype.hasOwnProperty.call(x,I);var A={};return(()=>{y.d(A,{default:()=>l});const x=d=>!!d&&typeof d=="object"&&!Array.isArray(d);function I(d,...e){if(!e.length)return d;const t=e.shift();return t!==void 0&&x(d)&&x(t)?(d=Object.assign({},d),Object.keys(t).forEach((n=>{const o=d[n],r=t[n];Array.isArray(o)&&Array.isArray(r)?d[n]=r:x(o)&&x(r)?d[n]=I(Object.assign({},o),r):d[n]=r})),I(d,...e)):d}function P(d,e){const t=document.createElement("a");t.download=e,t.href=d,document.body.appendChild(t),t.click(),document.body.removeChild(t)}const Q={L:.07,M:.15,Q:.25,H:.3};class X{constructor({svg:e,type:t,window:n}){this._svg=e,this._type=t,this._window=n}draw(e,t,n,o){let r;switch(this._type){case"dots":r=this._drawDot;break;case"classy":r=this._drawClassy;break;case"classy-rounded":r=this._drawClassyRounded;break;case"rounded":r=this._drawRounded;break;case"extra-rounded":r=this._drawExtraRounded;break;default:r=this._drawSquare}r.call(this,{x:e,y:t,size:n,getNeighbor:o})}_rotateFigure({x:e,y:t,size:n,rotation:o=0,draw:r}){var s;const p=e+n/2,f=t+n/2;r(),(s=this._element)===null||s===void 0||s.setAttribute("transform",`rotate(${180*o/Math.PI},${p},${f})`)}_basicDot(e){const{size:t,x:n,y:o}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(n+t/2)),this._element.setAttribute("cy",String(o+t/2)),this._element.setAttribute("r",String(t/2))}}))}_basicSquare(e){const{size:t,x:n,y:o}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(n)),this._element.setAttribute("y",String(o)),this._element.setAttribute("width",String(t)),this._element.setAttribute("height",String(t))}}))}_basicSideRounded(e){const{size:t,x:n,y:o}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${n} ${o}v ${t}h `+t/2+`a ${t/2} ${t/2}, 0, 0, 0, 0 ${-t}`)}}))}_basicCornerRounded(e){const{size:t,x:n,y:o}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${n} ${o}v ${t}h ${t}v `+-t/2+`a ${t/2} ${t/2}, 0, 0, 0, ${-t/2} ${-t/2}`)}}))}_basicCornerExtraRounded(e){const{size:t,x:n,y:o}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${n} ${o}v ${t}h ${t}a ${t} ${t}, 0, 0, 0, ${-t} ${-t}`)}}))}_basicCornersRounded(e){const{size:t,x:n,y:o}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${n} ${o}v `+t/2+`a ${t/2} ${t/2}, 0, 0, 0, ${t/2} ${t/2}h `+t/2+"v "+-t/2+`a ${t/2} ${t/2}, 0, 0, 0, ${-t/2} ${-t/2}`)}}))}_drawDot({x:e,y:t,size:n}){this._basicDot({x:e,y:t,size:n,rotation:0})}_drawSquare({x:e,y:t,size:n}){this._basicSquare({x:e,y:t,size:n,rotation:0})}_drawRounded({x:e,y:t,size:n,getNeighbor:o}){const r=o?+o(-1,0):0,s=o?+o(1,0):0,p=o?+o(0,-1):0,f=o?+o(0,1):0,C=r+s+p+f;if(C!==0)if(C>2||r&&s||p&&f)this._basicSquare({x:e,y:t,size:n,rotation:0});else{if(C===2){let _=0;return r&&p?_=Math.PI/2:p&&s?_=Math.PI:s&&f&&(_=-Math.PI/2),void this._basicCornerRounded({x:e,y:t,size:n,rotation:_})}if(C===1){let _=0;return p?_=Math.PI/2:s?_=Math.PI:f&&(_=-Math.PI/2),void this._basicSideRounded({x:e,y:t,size:n,rotation:_})}}else this._basicDot({x:e,y:t,size:n,rotation:0})}_drawExtraRounded({x:e,y:t,size:n,getNeighbor:o}){const r=o?+o(-1,0):0,s=o?+o(1,0):0,p=o?+o(0,-1):0,f=o?+o(0,1):0,C=r+s+p+f;if(C!==0)if(C>2||r&&s||p&&f)this._basicSquare({x:e,y:t,size:n,rotation:0});else{if(C===2){let _=0;return r&&p?_=Math.PI/2:p&&s?_=Math.PI:s&&f&&(_=-Math.PI/2),void this._basicCornerExtraRounded({x:e,y:t,size:n,rotation:_})}if(C===1){let _=0;return p?_=Math.PI/2:s?_=Math.PI:f&&(_=-Math.PI/2),void this._basicSideRounded({x:e,y:t,size:n,rotation:_})}}else this._basicDot({x:e,y:t,size:n,rotation:0})}_drawClassy({x:e,y:t,size:n,getNeighbor:o}){const r=o?+o(-1,0):0,s=o?+o(1,0):0,p=o?+o(0,-1):0,f=o?+o(0,1):0;r+s+p+f!==0?r||p?s||f?this._basicSquare({x:e,y:t,size:n,rotation:0}):this._basicCornerRounded({x:e,y:t,size:n,rotation:Math.PI/2}):this._basicCornerRounded({x:e,y:t,size:n,rotation:-Math.PI/2}):this._basicCornersRounded({x:e,y:t,size:n,rotation:Math.PI/2})}_drawClassyRounded({x:e,y:t,size:n,getNeighbor:o}){const r=o?+o(-1,0):0,s=o?+o(1,0):0,p=o?+o(0,-1):0,f=o?+o(0,1):0;r+s+p+f!==0?r||p?s||f?this._basicSquare({x:e,y:t,size:n,rotation:0}):this._basicCornerExtraRounded({x:e,y:t,size:n,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:e,y:t,size:n,rotation:-Math.PI/2}):this._basicCornersRounded({x:e,y:t,size:n,rotation:Math.PI/2})}}const K={dot:"dot",square:"square",extraRounded:"extra-rounded"},it=Object.values(K);class nt{constructor({svg:e,type:t,window:n}){this._svg=e,this._type=t,this._window=n}draw(e,t,n,o){let r;switch(this._type){case K.square:r=this._drawSquare;break;case K.extraRounded:r=this._drawExtraRounded;break;default:r=this._drawDot}r.call(this,{x:e,y:t,size:n,rotation:o})}_rotateFigure({x:e,y:t,size:n,rotation:o=0,draw:r}){var s;const p=e+n/2,f=t+n/2;r(),(s=this._element)===null||s===void 0||s.setAttribute("transform",`rotate(${180*o/Math.PI},${p},${f})`)}_basicDot(e){const{size:t,x:n,y:o}=e,r=t/7;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${n+t/2} ${o}a ${t/2} ${t/2} 0 1 0 0.1 0zm 0 ${r}a ${t/2-r} ${t/2-r} 0 1 1 -0.1 0Z`)}}))}_basicSquare(e){const{size:t,x:n,y:o}=e,r=t/7;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${n} ${o}v ${t}h ${t}v `+-t+`zM ${n+r} ${o+r}h `+(t-2*r)+"v "+(t-2*r)+"h "+(2*r-t)+"z")}}))}_basicExtraRounded(e){const{size:t,x:n,y:o}=e,r=t/7;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${n} ${o+2.5*r}v `+2*r+`a ${2.5*r} ${2.5*r}, 0, 0, 0, ${2.5*r} ${2.5*r}h `+2*r+`a ${2.5*r} ${2.5*r}, 0, 0, 0, ${2.5*r} ${2.5*-r}v `+-2*r+`a ${2.5*r} ${2.5*r}, 0, 0, 0, ${2.5*-r} ${2.5*-r}h `+-2*r+`a ${2.5*r} ${2.5*r}, 0, 0, 0, ${2.5*-r} ${2.5*r}M ${n+2.5*r} ${o+r}h `+2*r+`a ${1.5*r} ${1.5*r}, 0, 0, 1, ${1.5*r} ${1.5*r}v `+2*r+`a ${1.5*r} ${1.5*r}, 0, 0, 1, ${1.5*-r} ${1.5*r}h `+-2*r+`a ${1.5*r} ${1.5*r}, 0, 0, 1, ${1.5*-r} ${1.5*-r}v `+-2*r+`a ${1.5*r} ${1.5*r}, 0, 0, 1, ${1.5*r} ${1.5*-r}`)}}))}_drawDot({x:e,y:t,size:n,rotation:o}){this._basicDot({x:e,y:t,size:n,rotation:o})}_drawSquare({x:e,y:t,size:n,rotation:o}){this._basicSquare({x:e,y:t,size:n,rotation:o})}_drawExtraRounded({x:e,y:t,size:n,rotation:o}){this._basicExtraRounded({x:e,y:t,size:n,rotation:o})}}const et={dot:"dot",square:"square"},k=Object.values(et);class Y{constructor({svg:e,type:t,window:n}){this._svg=e,this._type=t,this._window=n}draw(e,t,n,o){let r;r=this._type===et.square?this._drawSquare:this._drawDot,r.call(this,{x:e,y:t,size:n,rotation:o})}_rotateFigure({x:e,y:t,size:n,rotation:o=0,draw:r}){var s;const p=e+n/2,f=t+n/2;r(),(s=this._element)===null||s===void 0||s.setAttribute("transform",`rotate(${180*o/Math.PI},${p},${f})`)}_basicDot(e){const{size:t,x:n,y:o}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(n+t/2)),this._element.setAttribute("cy",String(o+t/2)),this._element.setAttribute("r",String(t/2))}}))}_basicSquare(e){const{size:t,x:n,y:o}=e;this._rotateFigure(Object.assign(Object.assign({},e),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(n)),this._element.setAttribute("y",String(o)),this._element.setAttribute("width",String(t)),this._element.setAttribute("height",String(t))}}))}_drawDot({x:e,y:t,size:n,rotation:o}){this._basicDot({x:e,y:t,size:n,rotation:o})}_drawSquare({x:e,y:t,size:n,rotation:o}){this._basicSquare({x:e,y:t,size:n,rotation:o})}}const Z="circle",G=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],J=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];class dt{constructor(e,t){this._roundSize=n=>this._options.dotsOptions.roundSize?Math.floor(n):n,this._window=t,this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(e.width)),this._element.setAttribute("height",String(e.height)),this._element.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),e.dotsOptions.roundSize||this._element.setAttribute("shape-rendering","crispEdges"),this._element.setAttribute("viewBox",`0 0 ${e.width} ${e.height}`),this._defs=this._window.document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs),this._imageUri=e.image,this._instanceId=dt.instanceCount++,this._options=e}get width(){return this._options.width}get height(){return this._options.height}getElement(){return this._element}async drawQR(e){const t=e.getModuleCount(),n=Math.min(this._options.width,this._options.height)-2*this._options.margin,o=this._options.shape===Z?n/Math.sqrt(2):n,r=this._roundSize(o/t);let s={hideXDots:0,hideYDots:0,width:0,height:0};if(this._qr=e,this._options.image){if(await this.loadImage(),!this._image)return;const{imageOptions:p,qrOptions:f}=this._options,C=p.imageSize*Q[f.errorCorrectionLevel],_=Math.floor(C*t*t);s=(function({originalHeight:E,originalWidth:S,maxHiddenDots:B,maxHiddenAxisDots:z,dotSize:M}){const i={x:0,y:0},u={x:0,y:0};if(E<=0||S<=0||B<=0||M<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};const a=E/S;return i.x=Math.floor(Math.sqrt(B/a)),i.x<=0&&(i.x=1),z&&z<i.x&&(i.x=z),i.x%2==0&&i.x--,u.x=i.x*M,i.y=1+2*Math.ceil((i.x*a-1)/2),u.y=Math.round(u.x*a),(i.y*i.x>B||z&&z<i.y)&&(z&&z<i.y?(i.y=z,i.y%2==0&&i.x--):i.y-=2,u.y=i.y*M,i.x=1+2*Math.ceil((i.y/a-1)/2),u.x=Math.round(u.y/a)),{height:u.y,width:u.x,hideYDots:i.y,hideXDots:i.x}})({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:_,maxHiddenAxisDots:t-14,dotSize:r})}this.drawBackground(),this.drawDots(((p,f)=>{var C,_,E,S,B,z;return!(this._options.imageOptions.hideBackgroundDots&&p>=(t-s.hideYDots)/2&&p<(t+s.hideYDots)/2&&f>=(t-s.hideXDots)/2&&f<(t+s.hideXDots)/2||!((C=G[p])===null||C===void 0)&&C[f]||!((_=G[p-t+7])===null||_===void 0)&&_[f]||!((E=G[p])===null||E===void 0)&&E[f-t+7]||!((S=J[p])===null||S===void 0)&&S[f]||!((B=J[p-t+7])===null||B===void 0)&&B[f]||!((z=J[p])===null||z===void 0)&&z[f-t+7])})),this.drawCorners(),this._options.image&&await this.drawImage({width:s.width,height:s.height,count:t,dotSize:r})}drawBackground(){var e,t,n;const o=this._element,r=this._options;if(o){const s=(e=r.backgroundOptions)===null||e===void 0?void 0:e.gradient,p=(t=r.backgroundOptions)===null||t===void 0?void 0:t.color;let f=r.height,C=r.width;if(s||p){const _=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect");this._backgroundClipPath=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._backgroundClipPath.setAttribute("id",`clip-path-background-color-${this._instanceId}`),this._defs.appendChild(this._backgroundClipPath),!((n=r.backgroundOptions)===null||n===void 0)&&n.round&&(f=C=Math.min(r.width,r.height),_.setAttribute("rx",String(f/2*r.backgroundOptions.round))),_.setAttribute("x",String(this._roundSize((r.width-C)/2))),_.setAttribute("y",String(this._roundSize((r.height-f)/2))),_.setAttribute("width",String(C)),_.setAttribute("height",String(f)),this._backgroundClipPath.appendChild(_),this._createColor({options:s,color:p,additionalRotation:0,x:0,y:0,height:r.height,width:r.width,name:`background-color-${this._instanceId}`})}}}drawDots(e){var t,n;if(!this._qr)throw"QR code is not defined";const o=this._options,r=this._qr.getModuleCount();if(r>o.width||r>o.height)throw"The canvas is too small.";const s=Math.min(o.width,o.height)-2*o.margin,p=o.shape===Z?s/Math.sqrt(2):s,f=this._roundSize(p/r),C=this._roundSize((o.width-r*f)/2),_=this._roundSize((o.height-r*f)/2),E=new X({svg:this._element,type:o.dotsOptions.type,window:this._window});this._dotsClipPath=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id",`clip-path-dot-color-${this._instanceId}`),this._defs.appendChild(this._dotsClipPath),this._createColor({options:(t=o.dotsOptions)===null||t===void 0?void 0:t.gradient,color:o.dotsOptions.color,additionalRotation:0,x:0,y:0,height:o.height,width:o.width,name:`dot-color-${this._instanceId}`});for(let S=0;S<r;S++)for(let B=0;B<r;B++)e&&!e(S,B)||!((n=this._qr)===null||n===void 0)&&n.isDark(S,B)&&(E.draw(C+B*f,_+S*f,f,((z,M)=>!(B+z<0||S+M<0||B+z>=r||S+M>=r)&&!(e&&!e(S+M,B+z))&&!!this._qr&&this._qr.isDark(S+M,B+z))),E._element&&this._dotsClipPath&&this._dotsClipPath.appendChild(E._element));if(o.shape===Z){const S=this._roundSize((s/f-r)/2),B=r+2*S,z=C-S*f,M=_-S*f,i=[],u=this._roundSize(B/2);for(let a=0;a<B;a++){i[a]=[];for(let c=0;c<B;c++)a>=S-1&&a<=B-S&&c>=S-1&&c<=B-S||Math.sqrt((a-u)*(a-u)+(c-u)*(c-u))>u?i[a][c]=0:i[a][c]=this._qr.isDark(c-2*S<0?c:c>=r?c-2*S:c-S,a-2*S<0?a:a>=r?a-2*S:a-S)?1:0}for(let a=0;a<B;a++)for(let c=0;c<B;c++)i[a][c]&&(E.draw(z+c*f,M+a*f,f,((g,q)=>{var $;return!!(!(($=i[a+q])===null||$===void 0)&&$[c+g])})),E._element&&this._dotsClipPath&&this._dotsClipPath.appendChild(E._element))}}drawCorners(){if(!this._qr)throw"QR code is not defined";const e=this._element,t=this._options;if(!e)throw"Element code is not defined";const n=this._qr.getModuleCount(),o=Math.min(t.width,t.height)-2*t.margin,r=t.shape===Z?o/Math.sqrt(2):o,s=this._roundSize(r/n),p=7*s,f=3*s,C=this._roundSize((t.width-n*s)/2),_=this._roundSize((t.height-n*s)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach((([E,S,B])=>{var z,M,i,u,a,c,g,q,$,L,j,R,U,tt;const W=C+E*s*(n-7),F=_+S*s*(n-7);let N=this._dotsClipPath,O=this._dotsClipPath;if((!((z=t.cornersSquareOptions)===null||z===void 0)&&z.gradient||!((M=t.cornersSquareOptions)===null||M===void 0)&&M.color)&&(N=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),N.setAttribute("id",`clip-path-corners-square-color-${E}-${S}-${this._instanceId}`),this._defs.appendChild(N),this._cornersSquareClipPath=this._cornersDotClipPath=O=N,this._createColor({options:(i=t.cornersSquareOptions)===null||i===void 0?void 0:i.gradient,color:(u=t.cornersSquareOptions)===null||u===void 0?void 0:u.color,additionalRotation:B,x:W,y:F,height:p,width:p,name:`corners-square-color-${E}-${S}-${this._instanceId}`})),((a=t.cornersSquareOptions)===null||a===void 0?void 0:a.type)&&it.includes(t.cornersSquareOptions.type)){const H=new nt({svg:this._element,type:t.cornersSquareOptions.type,window:this._window});H.draw(W,F,p,B),H._element&&N&&N.appendChild(H._element)}else{const H=new X({svg:this._element,type:((c=t.cornersSquareOptions)===null||c===void 0?void 0:c.type)||t.dotsOptions.type,window:this._window});for(let V=0;V<G.length;V++)for(let D=0;D<G[V].length;D++)!((g=G[V])===null||g===void 0)&&g[D]&&(H.draw(W+D*s,F+V*s,s,((at,ot)=>{var rt;return!!(!((rt=G[V+ot])===null||rt===void 0)&&rt[D+at])})),H._element&&N&&N.appendChild(H._element))}if((!((q=t.cornersDotOptions)===null||q===void 0)&&q.gradient||!(($=t.cornersDotOptions)===null||$===void 0)&&$.color)&&(O=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),O.setAttribute("id",`clip-path-corners-dot-color-${E}-${S}-${this._instanceId}`),this._defs.appendChild(O),this._cornersDotClipPath=O,this._createColor({options:(L=t.cornersDotOptions)===null||L===void 0?void 0:L.gradient,color:(j=t.cornersDotOptions)===null||j===void 0?void 0:j.color,additionalRotation:B,x:W+2*s,y:F+2*s,height:f,width:f,name:`corners-dot-color-${E}-${S}-${this._instanceId}`})),((R=t.cornersDotOptions)===null||R===void 0?void 0:R.type)&&k.includes(t.cornersDotOptions.type)){const H=new Y({svg:this._element,type:t.cornersDotOptions.type,window:this._window});H.draw(W+2*s,F+2*s,f,B),H._element&&O&&O.appendChild(H._element)}else{const H=new X({svg:this._element,type:((U=t.cornersDotOptions)===null||U===void 0?void 0:U.type)||t.dotsOptions.type,window:this._window});for(let V=0;V<J.length;V++)for(let D=0;D<J[V].length;D++)!((tt=J[V])===null||tt===void 0)&&tt[D]&&(H.draw(W+D*s,F+V*s,s,((at,ot)=>{var rt;return!!(!((rt=J[V+ot])===null||rt===void 0)&&rt[D+at])})),H._element&&O&&O.appendChild(H._element))}}))}loadImage(){return new Promise(((e,t)=>{var n;const o=this._options;if(!o.image)return t("Image is not defined");if(!((n=o.nodeCanvas)===null||n===void 0)&&n.loadImage)o.nodeCanvas.loadImage(o.image).then((r=>{var s,p;if(this._image=r,this._options.imageOptions.saveAsBlob){const f=(s=o.nodeCanvas)===null||s===void 0?void 0:s.createCanvas(this._image.width,this._image.height);(p=f==null?void 0:f.getContext("2d"))===null||p===void 0||p.drawImage(r,0,0),this._imageUri=f==null?void 0:f.toDataURL()}e()})).catch(t);else{const r=new this._window.Image;typeof o.imageOptions.crossOrigin=="string"&&(r.crossOrigin=o.imageOptions.crossOrigin),this._image=r,r.onload=async()=>{this._options.imageOptions.saveAsBlob&&(this._imageUri=await(async function(s,p){return new Promise((f=>{const C=new p.XMLHttpRequest;C.onload=function(){const _=new p.FileReader;_.onloadend=function(){f(_.result)},_.readAsDataURL(C.response)},C.open("GET",s),C.responseType="blob",C.send()}))})(o.image||"",this._window)),e()},r.src=o.image}}))}async drawImage({width:e,height:t,count:n,dotSize:o}){const r=this._options,s=this._roundSize((r.width-n*o)/2),p=this._roundSize((r.height-n*o)/2),f=s+this._roundSize(r.imageOptions.margin+(n*o-e)/2),C=p+this._roundSize(r.imageOptions.margin+(n*o-t)/2),_=e-2*r.imageOptions.margin,E=t-2*r.imageOptions.margin,S=this._window.document.createElementNS("http://www.w3.org/2000/svg","image");S.setAttribute("href",this._imageUri||""),S.setAttribute("xlink:href",this._imageUri||""),S.setAttribute("x",String(f)),S.setAttribute("y",String(C)),S.setAttribute("width",`${_}px`),S.setAttribute("height",`${E}px`),this._element.appendChild(S)}_createColor({options:e,color:t,additionalRotation:n,x:o,y:r,height:s,width:p,name:f}){const C=p>s?p:s,_=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect");if(_.setAttribute("x",String(o)),_.setAttribute("y",String(r)),_.setAttribute("height",String(s)),_.setAttribute("width",String(p)),_.setAttribute("clip-path",`url('#clip-path-${f}')`),e){let E;if(e.type==="radial")E=this._window.document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),E.setAttribute("id",f),E.setAttribute("gradientUnits","userSpaceOnUse"),E.setAttribute("fx",String(o+p/2)),E.setAttribute("fy",String(r+s/2)),E.setAttribute("cx",String(o+p/2)),E.setAttribute("cy",String(r+s/2)),E.setAttribute("r",String(C/2));else{const S=((e.rotation||0)+n)%(2*Math.PI),B=(S+2*Math.PI)%(2*Math.PI);let z=o+p/2,M=r+s/2,i=o+p/2,u=r+s/2;B>=0&&B<=.25*Math.PI||B>1.75*Math.PI&&B<=2*Math.PI?(z-=p/2,M-=s/2*Math.tan(S),i+=p/2,u+=s/2*Math.tan(S)):B>.25*Math.PI&&B<=.75*Math.PI?(M-=s/2,z-=p/2/Math.tan(S),u+=s/2,i+=p/2/Math.tan(S)):B>.75*Math.PI&&B<=1.25*Math.PI?(z+=p/2,M+=s/2*Math.tan(S),i-=p/2,u-=s/2*Math.tan(S)):B>1.25*Math.PI&&B<=1.75*Math.PI&&(M+=s/2,z+=p/2/Math.tan(S),u-=s/2,i-=p/2/Math.tan(S)),E=this._window.document.createElementNS("http://www.w3.org/2000/svg","linearGradient"),E.setAttribute("id",f),E.setAttribute("gradientUnits","userSpaceOnUse"),E.setAttribute("x1",String(Math.round(z))),E.setAttribute("y1",String(Math.round(M))),E.setAttribute("x2",String(Math.round(i))),E.setAttribute("y2",String(Math.round(u)))}e.colorStops.forEach((({offset:S,color:B})=>{const z=this._window.document.createElementNS("http://www.w3.org/2000/svg","stop");z.setAttribute("offset",100*S+"%"),z.setAttribute("stop-color",B),E.appendChild(z)})),_.setAttribute("fill",`url('#${f}')`),this._defs.appendChild(E)}else t&&_.setAttribute("fill",t);this._element.appendChild(_)}}dt.instanceCount=0;const ft=dt,ct="canvas",pt={};for(let d=0;d<=40;d++)pt[d]=d;const mt={type:ct,shape:"square",width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:pt[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{saveAsBlob:!0,hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000",roundSize:!0},backgroundOptions:{round:0,color:"#fff"}};function lt(d){const e=Object.assign({},d);if(!e.colorStops||!e.colorStops.length)throw"Field 'colorStops' is required in gradient";return e.rotation?e.rotation=Number(e.rotation):e.rotation=0,e.colorStops=e.colorStops.map((t=>Object.assign(Object.assign({},t),{offset:Number(t.offset)}))),e}function wt(d){const e=Object.assign({},d);return e.width=Number(e.width),e.height=Number(e.height),e.margin=Number(e.margin),e.imageOptions=Object.assign(Object.assign({},e.imageOptions),{hideBackgroundDots:!!e.imageOptions.hideBackgroundDots,imageSize:Number(e.imageOptions.imageSize),margin:Number(e.imageOptions.margin)}),e.margin>Math.min(e.width,e.height)&&(e.margin=Math.min(e.width,e.height)),e.dotsOptions=Object.assign({},e.dotsOptions),e.dotsOptions.gradient&&(e.dotsOptions.gradient=lt(e.dotsOptions.gradient)),e.cornersSquareOptions&&(e.cornersSquareOptions=Object.assign({},e.cornersSquareOptions),e.cornersSquareOptions.gradient&&(e.cornersSquareOptions.gradient=lt(e.cornersSquareOptions.gradient))),e.cornersDotOptions&&(e.cornersDotOptions=Object.assign({},e.cornersDotOptions),e.cornersDotOptions.gradient&&(e.cornersDotOptions.gradient=lt(e.cornersDotOptions.gradient))),e.backgroundOptions&&(e.backgroundOptions=Object.assign({},e.backgroundOptions),e.backgroundOptions.gradient&&(e.backgroundOptions.gradient=lt(e.backgroundOptions.gradient))),e}var vt=y(873),St=y.n(vt);function gt(d){if(!d)throw new Error("Extension must be defined");d[0]==="."&&(d=d.substring(1));const e={bmp:"image/bmp",gif:"image/gif",ico:"image/vnd.microsoft.icon",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",tif:"image/tiff",tiff:"image/tiff",webp:"image/webp",pdf:"application/pdf"}[d.toLowerCase()];if(!e)throw new Error(`Extension "${d}" is not supported`);return e}class h{constructor(e){e!=null&&e.jsdom?this._window=new e.jsdom("",{resources:"usable"}).window:this._window=window,this._options=e?wt(I(mt,e)):mt,this.update()}static _clearContainer(e){e&&(e.innerHTML="")}_setupSvg(){if(!this._qr)return;const e=new ft(this._options,this._window);this._svg=e.getElement(),this._svgDrawingPromise=e.drawQR(this._qr).then((()=>{var t;this._svg&&((t=this._extension)===null||t===void 0||t.call(this,e.getElement(),this._options))}))}_setupCanvas(){var e,t;this._qr&&(!((e=this._options.nodeCanvas)===null||e===void 0)&&e.createCanvas?(this._nodeCanvas=this._options.nodeCanvas.createCanvas(this._options.width,this._options.height),this._nodeCanvas.width=this._options.width,this._nodeCanvas.height=this._options.height):(this._domCanvas=document.createElement("canvas"),this._domCanvas.width=this._options.width,this._domCanvas.height=this._options.height),this._setupSvg(),this._canvasDrawingPromise=(t=this._svgDrawingPromise)===null||t===void 0?void 0:t.then((()=>{var n;if(!this._svg)return;const o=this._svg,r=new this._window.XMLSerializer().serializeToString(o),s=btoa(r),p=`data:${gt("svg")};base64,${s}`;if(!((n=this._options.nodeCanvas)===null||n===void 0)&&n.loadImage)return this._options.nodeCanvas.loadImage(p).then((f=>{var C,_;f.width=this._options.width,f.height=this._options.height,(_=(C=this._nodeCanvas)===null||C===void 0?void 0:C.getContext("2d"))===null||_===void 0||_.drawImage(f,0,0)}));{const f=new this._window.Image;return new Promise((C=>{f.onload=()=>{var _,E;(E=(_=this._domCanvas)===null||_===void 0?void 0:_.getContext("2d"))===null||E===void 0||E.drawImage(f,0,0),C()},f.src=p}))}})))}async _getElement(e="png"){if(!this._qr)throw"QR code is empty";return e.toLowerCase()==="svg"?(this._svg&&this._svgDrawingPromise||this._setupSvg(),await this._svgDrawingPromise,this._svg):((this._domCanvas||this._nodeCanvas)&&this._canvasDrawingPromise||this._setupCanvas(),await this._canvasDrawingPromise,this._domCanvas||this._nodeCanvas)}update(e){h._clearContainer(this._container),this._options=e?wt(I(this._options,e)):this._options,this._options.data&&(this._qr=St()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||(function(t){switch(!0){case/^[0-9]*$/.test(t):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(t):return"Alphanumeric";default:return"Byte"}})(this._options.data)),this._qr.make(),this._options.type===ct?this._setupCanvas():this._setupSvg(),this.append(this._container))}append(e){if(e){if(typeof e.appendChild!="function")throw"Container should be a single DOM node";this._options.type===ct?this._domCanvas&&e.appendChild(this._domCanvas):this._svg&&e.appendChild(this._svg),this._container=e}}applyExtension(e){if(!e)throw"Extension function should be defined.";this._extension=e,this.update()}deleteExtension(){this._extension=void 0,this.update()}async getRawData(e="png"){if(!this._qr)throw"QR code is empty";const t=await this._getElement(e),n=gt(e);if(!t)return null;if(e.toLowerCase()==="svg"){const o=`<?xml version="1.0" standalone="no"?>\r
${new this._window.XMLSerializer().serializeToString(t)}`;return typeof Blob>"u"||this._options.jsdom?Buffer.from(o):new Blob([o],{type:n})}return new Promise((o=>{const r=t;if("toBuffer"in r)if(n==="image/png")o(r.toBuffer(n));else if(n==="image/jpeg")o(r.toBuffer(n));else{if(n!=="application/pdf")throw Error("Unsupported extension");o(r.toBuffer(n))}else"toBlob"in r&&r.toBlob(o,n,1)}))}async download(e){if(!this._qr)throw"QR code is empty";if(typeof Blob>"u")throw"Cannot download in Node.js, call getRawData instead.";let t="png",n="qr";typeof e=="string"?(t=e,console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")):typeof e=="object"&&e!==null&&(e.name&&(n=e.name),e.extension&&(t=e.extension));const o=await this._getElement(t);if(o)if(t.toLowerCase()==="svg"){let r=new XMLSerializer().serializeToString(o);r=`<?xml version="1.0" standalone="no"?>\r
`+r,P(`data:${gt(t)};charset=utf-8,${encodeURIComponent(r)}`,`${n}.svg`)}else P(o.toDataURL(gt(t)),`${n}.${t}`)}}const l=h})(),A.default})()))})(_t)),_t.exports}var Mt=Ot();const $t=Bt(Mt);class Dt{constructor(w,b={}){this.container=w,this.instance=null,this.init(b)}init(w){const b={width:300,height:300,type:"svg",data:"",margin:0,qrOptions:{errorCorrectionLevel:"Q"},dotsOptions:{color:"#000000",type:"square"},backgroundOptions:{color:"#ffffff"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,margin:0},...w};this.instance=new $t(b),this.render()}render(){this.container&&this.instance&&(this.container.innerHTML="",this.instance.append(this.container))}update(w){this.instance&&this.instance.update(w)}download(w="qr",b="png"){this.instance&&this.instance.download({name:w,extension:b})}}class kt{constructor(w){this.updateCallback=w,this.init()}init(){this.setupAccordions(),this.setupTabs(),this.setupShapePicker(),this.setupToggles()}setupAccordions(){document.querySelectorAll(".accordion").forEach(w=>{const b=w.querySelector(".accordion-header"),v=w.querySelector(".accordion-panel");!b||!v||(b.addEventListener("click",()=>{const y=b.getAttribute("aria-expanded")!=="true";b.setAttribute("aria-expanded",y),v.hidden=!y,w.dataset.open=y}),w.dataset.open="true")})}setupTabs(){document.querySelectorAll('.mode-tabs [role="tab"]').forEach(w=>{w.addEventListener("click",()=>{const b=w.dataset.mode;this.setMode(b)})})}setMode(w){document.querySelectorAll('.mode-tabs [role="tab"]').forEach(b=>{b.setAttribute("aria-selected",b.dataset.mode===w?"true":"false")}),document.querySelectorAll(".data-panel").forEach(b=>{b.classList.toggle("hidden",b.dataset.panel!==w)}),this.triggerUpdate()}setupShapePicker(){var b;const w=document.querySelector('.shape-picker[data-target="dots-type"]');w&&((b=w.querySelector('button[data-value="square"]'))==null||b.classList.add("active"),w.querySelectorAll("button").forEach(v=>{v.addEventListener("click",()=>{w.querySelectorAll("button").forEach(y=>y.classList.remove("active")),v.classList.add("active"),this.triggerUpdate()})}))}setupToggles(){var w,b,v,y,A;(w=document.getElementById("dots-gradient"))==null||w.addEventListener("change",()=>{this.toggleDotsGradient(),this.triggerUpdate()}),(b=document.getElementById("corners-square-gradient"))==null||b.addEventListener("change",()=>{this.toggleCornersSquareGradient(),this.triggerUpdate()}),(v=document.getElementById("corners-dot-gradient"))==null||v.addEventListener("change",()=>{this.toggleCornersDotGradient(),this.triggerUpdate()}),(y=document.getElementById("bg-transparent"))==null||y.addEventListener("change",()=>{this.toggleBg(),this.triggerUpdate()}),(A=document.getElementById("bg-gradient"))==null||A.addEventListener("change",()=>{this.toggleBg(),this.triggerUpdate()})}toggleDotsGradient(){var b;const w=((b=document.getElementById("dots-gradient"))==null?void 0:b.checked)??!1;document.querySelectorAll(".dots-solid").forEach(v=>v.classList.toggle("hidden",w)),document.querySelectorAll(".dots-gradient").forEach(v=>v.classList.toggle("hidden",!w))}toggleCornersSquareGradient(){var b;const w=((b=document.getElementById("corners-square-gradient"))==null?void 0:b.checked)??!1;document.querySelectorAll(".corners-square-solid").forEach(v=>v.classList.toggle("hidden",w)),document.querySelectorAll(".corners-square-gradient").forEach(v=>v.classList.toggle("hidden",!w))}toggleCornersDotGradient(){var b;const w=((b=document.getElementById("corners-dot-gradient"))==null?void 0:b.checked)??!1;document.querySelectorAll(".corners-dot-solid").forEach(v=>v.classList.toggle("hidden",w)),document.querySelectorAll(".corners-dot-gradient").forEach(v=>v.classList.toggle("hidden",!w))}toggleBg(){var v,y,A;const w=((v=document.getElementById("bg-transparent"))==null?void 0:v.checked)??!1,b=((y=document.getElementById("bg-gradient"))==null?void 0:y.checked)??!1;document.querySelectorAll(".bg-solid").forEach(x=>x.classList.toggle("hidden",w)),document.querySelectorAll(".bg-gradient-el").forEach(x=>x.classList.toggle("hidden",!b||w)),(A=document.querySelector(".preview-card"))==null||A.classList.toggle("transparent-bg",w)}triggerUpdate(){this.updateCallback&&this.updateCallback()}refreshToggles(){this.toggleDotsGradient(),this.toggleCornersSquareGradient(),this.toggleCornersDotGradient(),this.toggleBg()}}class Lt{constructor(w){this.updateCallback=w,this.logoDataUrl=null,this.init()}init(){this.setupInputs(),this.setupFileHandling()}setupInputs(){["data-text","data-url","data-email","data-email-subject","data-phone","data-wifi-ssid","data-wifi-password","data-wifi-type","data-vcard-name","data-vcard-tel","data-vcard-email","shape","dots-color","dots-grad-type","dots-grad-rotation","dots-grad-from","dots-grad-to","corners-square-type","corners-square-color","corners-square-grad-type","corners-square-grad-rotation","corners-square-grad-from","corners-square-grad-to","corners-dot-type","corners-dot-color","corners-dot-grad-type","corners-dot-grad-rotation","corners-dot-grad-from","corners-dot-grad-to","bg-color","bg-grad-type","bg-grad-rotation","bg-grad-from","bg-grad-to","logo-size","logo-margin","logo-hide-dots"].forEach(v=>{const y=document.getElementById(v);y&&y.addEventListener("input",()=>this.triggerUpdate())}),document.querySelectorAll('input[name="ecl"]').forEach(v=>{v.addEventListener("change",()=>this.triggerUpdate())}),document.querySelectorAll("#corners-square-type, #corners-dot-type").forEach(v=>{v.addEventListener("change",()=>this.triggerUpdate())}),[["width","width-value"],["height","height-value"],["margin","margin-value"],["logo-size","logo-size-value",v=>(Number(v)/100).toFixed(2)],["logo-margin","logo-margin-value"]].forEach(([v,y,A=x=>x])=>{const x=document.getElementById(v),I=document.getElementById(y);if(!x||!I)return;const P=()=>{I.textContent=A(x.value),this.triggerUpdate()};x.addEventListener("input",P),P()})}setupFileHandling(){var b,v;(b=document.getElementById("logo-file"))==null||b.addEventListener("change",y=>{var x;const A=(x=y.target.files)==null?void 0:x[0];this.handleLogoFile(A)});const w=document.getElementById("logo-drop-zone");w&&(w.addEventListener("dragover",y=>{y.preventDefault(),w.classList.add("dragover")}),w.addEventListener("dragleave",()=>w.classList.remove("dragover")),w.addEventListener("drop",y=>{var x,I;y.preventDefault(),w.classList.remove("dragover");const A=(I=(x=y.dataTransfer)==null?void 0:x.files)==null?void 0:I[0];this.handleLogoFile(A)})),(v=document.getElementById("logo-clear"))==null||v.addEventListener("click",()=>{this.logoDataUrl=null;const y=document.getElementById("logo-file");y&&(y.value=""),this.triggerUpdate()})}handleLogoFile(w){if(!w||!w.type.startsWith("image/"))return;const b=new FileReader;b.onload=v=>{var y;this.logoDataUrl=((y=v.target)==null?void 0:y.result)??null,this.triggerUpdate()},b.readAsDataURL(w)}triggerUpdate(){this.updateCallback&&this.updateCallback()}buildGradient(w,b,v,y){const A=b*Math.PI/180;return{type:w==="radial"?"radial":"linear",rotation:A,colorStops:[{offset:0,color:v},{offset:1,color:y}]}}getDataFromMode(){var b,v,y,A,x,I,P,Q,X,K,it,nt,et;switch(((b=document.querySelector('.mode-tabs [role="tab"][aria-selected="true"]'))==null?void 0:b.dataset.mode)||"text"){case"text":return(((v=document.getElementById("data-text"))==null?void 0:v.value)||"").trim();case"url":return(((y=document.getElementById("data-url"))==null?void 0:y.value)||"").trim();case"email":{const k=(((A=document.getElementById("data-email"))==null?void 0:A.value)||"").trim(),Y=(((x=document.getElementById("data-email-subject"))==null?void 0:x.value)||"").trim();if(!k)return"";const Z="mailto:"+encodeURIComponent(k).replace(/%40/g,"@");return Y?Z+"?subject="+encodeURIComponent(Y):Z}case"phone":{const k=(((I=document.getElementById("data-phone"))==null?void 0:I.value)||"").trim();return k?"tel:"+k.replace(/\s/g,""):""}case"wifi":{const k=(((P=document.getElementById("data-wifi-ssid"))==null?void 0:P.value)||"").trim(),Y=((Q=document.getElementById("data-wifi-password"))==null?void 0:Q.value)??"",Z=((X=document.getElementById("data-wifi-type"))==null?void 0:X.value)||"WPA";if(!k)return"";const G=`T:${Z};`,J=Y?`P:${Y};`:"";return`WIFI:${G}S:${k};${J};;`}case"vcard":{const k=(((K=document.getElementById("data-vcard-name"))==null?void 0:K.value)||"").trim(),Y=(((it=document.getElementById("data-vcard-tel"))==null?void 0:it.value)||"").trim(),Z=(((nt=document.getElementById("data-vcard-email"))==null?void 0:nt.value)||"").trim();if(!k&&!Y&&!Z)return"";const G=["BEGIN:VCARD","VERSION:3.0"];return k&&G.push("FN:"+k,"N:"+k+";;;"),Y&&G.push("TEL:"+Y.replace(/\s/g,"")),Z&&G.push("EMAIL:"+Z),G.push("END:VCARD"),G.join(`
`)}default:return(((et=document.getElementById("data-text"))==null?void 0:et.value)||"").trim()}}getDotsOptions(){var y,A,x,I,P,Q,X;const w=((y=document.getElementById("dots-gradient"))==null?void 0:y.checked)??!1,v={type:((A=document.querySelector('.shape-picker[data-target="dots-type"] button.active'))==null?void 0:A.dataset.value)||"square"};return w?v.gradient=this.buildGradient(((x=document.getElementById("dots-grad-type"))==null?void 0:x.value)||"linear",Number((I=document.getElementById("dots-grad-rotation"))==null?void 0:I.value)||0,((P=document.getElementById("dots-grad-from"))==null?void 0:P.value)||"#000000",((Q=document.getElementById("dots-grad-to"))==null?void 0:Q.value)||"#333333"):(v.color=((X=document.getElementById("dots-color"))==null?void 0:X.value)||"#000000",v.gradient=void 0),v}getCornersSquareOptions(){var y,A,x,I,P,Q,X;const w=((y=document.getElementById("corners-square-gradient"))==null?void 0:y.checked)??!1,v={type:((A=document.getElementById("corners-square-type"))==null?void 0:A.value)||"square"};return w?v.gradient=this.buildGradient(((x=document.getElementById("corners-square-grad-type"))==null?void 0:x.value)||"linear",Number((I=document.getElementById("corners-square-grad-rotation"))==null?void 0:I.value)||0,((P=document.getElementById("corners-square-grad-from"))==null?void 0:P.value)||"#000000",((Q=document.getElementById("corners-square-grad-to"))==null?void 0:Q.value)||"#333333"):(v.color=((X=document.getElementById("corners-square-color"))==null?void 0:X.value)||"#000000",v.gradient=void 0),v}getCornersDotOptions(){var y,A,x,I,P,Q,X;const w=((y=document.getElementById("corners-dot-gradient"))==null?void 0:y.checked)??!1,v={type:((A=document.getElementById("corners-dot-type"))==null?void 0:A.value)||"square"};return w?v.gradient=this.buildGradient(((x=document.getElementById("corners-dot-grad-type"))==null?void 0:x.value)||"linear",Number((I=document.getElementById("corners-dot-grad-rotation"))==null?void 0:I.value)||0,((P=document.getElementById("corners-dot-grad-from"))==null?void 0:P.value)||"#000000",((Q=document.getElementById("corners-dot-grad-to"))==null?void 0:Q.value)||"#333333"):(v.color=((X=document.getElementById("corners-dot-color"))==null?void 0:X.value)||"#000000",v.gradient=void 0),v}getBackgroundOptions(){var v,y,A,x,I,P,Q;return((v=document.getElementById("bg-transparent"))==null?void 0:v.checked)??!1?{color:"transparent"}:((y=document.getElementById("bg-gradient"))==null?void 0:y.checked)??!1?{gradient:this.buildGradient(((A=document.getElementById("bg-grad-type"))==null?void 0:A.value)||"linear",Number((x=document.getElementById("bg-grad-rotation"))==null?void 0:x.value)||0,((I=document.getElementById("bg-grad-from"))==null?void 0:I.value)||"#ffffff",((P=document.getElementById("bg-grad-to"))==null?void 0:P.value)||"#f0f0f0")}:{color:((Q=document.getElementById("bg-color"))==null?void 0:Q.value)||"#ffffff",gradient:void 0}}getImageOptions(){var A,x,I;const w=Number((A=document.getElementById("logo-size"))==null?void 0:A.value)??40,b=Number((x=document.getElementById("logo-margin"))==null?void 0:x.value)??0,v=((I=document.getElementById("logo-hide-dots"))==null?void 0:I.checked)??!0,y=w/100;return{hideBackgroundDots:v,imageSize:y,margin:b}}getOptions(){var P,Q,X,K,it;const w=this.getDataFromMode(),b=Number((P=document.getElementById("width"))==null?void 0:P.value)||300,v=Number((Q=document.getElementById("height"))==null?void 0:Q.value)||300,y=Number((X=document.getElementById("margin"))==null?void 0:X.value)??0,A=((K=document.getElementById("shape"))==null?void 0:K.value)||"square",x=((it=document.querySelector('input[name="ecl"]:checked'))==null?void 0:it.value)||"Q",I={data:w||"https://github.com",width:b,height:v,margin:y,shape:A,type:"svg",qrOptions:{errorCorrectionLevel:x},dotsOptions:this.getDotsOptions(),cornersSquareOptions:this.getCornersSquareOptions(),cornersDotOptions:this.getCornersDotOptions(),backgroundOptions:this.getBackgroundOptions(),imageOptions:this.getImageOptions()};return this.logoDataUrl?I.image=this.logoDataUrl:I.image=void 0,I}}function m(T,w,b=!1){const v=typeof T=="string"?document.getElementById(T):T;v&&(b?v.checked=!!w:v.value=w)}function ut(T){const w=document.querySelector(`.shape-picker[data-target="dots-type"] button[data-value="${T}"]`);document.querySelectorAll('.shape-picker[data-target="dots-type"] button').forEach(b=>b.classList.remove("active")),w&&w.classList.add("active")}const zt=[{name:"Classic",apply(){ut("square"),m("dots-gradient",!1,!0),m("dots-color","#000000"),m("corners-square-type","square"),m("corners-square-gradient",!1,!0),m("corners-square-color","#000000"),m("corners-dot-type","square"),m("corners-dot-gradient",!1,!0),m("corners-dot-color","#000000"),m("bg-transparent",!1,!0),m("bg-gradient",!1,!0),m("bg-color","#ffffff")}},{name:"Rounded",apply(){ut("rounded"),m("dots-gradient",!1,!0),m("dots-color","#000000"),m("corners-square-type","extra-rounded"),m("corners-square-gradient",!1,!0),m("corners-square-color","#000000"),m("corners-dot-type","dot"),m("corners-dot-gradient",!1,!0),m("corners-dot-color","#000000"),m("bg-transparent",!1,!0),m("bg-gradient",!1,!0),m("bg-color","#ffffff")}},{name:"Dots",apply(){ut("dots"),m("dots-gradient",!1,!0),m("dots-color","#1a1a2e"),m("corners-square-type","dots"),m("corners-square-gradient",!1,!0),m("corners-square-color","#1a1a2e"),m("corners-dot-type","dots"),m("corners-dot-gradient",!1,!0),m("corners-dot-color","#1a1a2e"),m("bg-transparent",!1,!0),m("bg-gradient",!1,!0),m("bg-color","#f5f5f5")}},{name:"Gradient",apply(){ut("rounded"),m("dots-gradient",!0,!0),m("dots-grad-type","linear"),m("dots-grad-rotation","135"),m("dots-grad-from","#667eea"),m("dots-grad-to","#764ba2"),m("corners-square-type","extra-rounded"),m("corners-square-gradient",!0,!0),m("corners-square-grad-type","linear"),m("corners-square-grad-rotation","135"),m("corners-square-grad-from","#667eea"),m("corners-square-grad-to","#764ba2"),m("corners-dot-type","dot"),m("corners-dot-gradient",!0,!0),m("corners-dot-grad-type","linear"),m("corners-dot-grad-rotation","135"),m("corners-dot-grad-from","#667eea"),m("corners-dot-grad-to","#764ba2"),m("bg-transparent",!1,!0),m("bg-gradient",!0,!0),m("bg-grad-type","linear"),m("bg-grad-rotation","0"),m("bg-grad-from","#fdfbfb"),m("bg-grad-to","#ebedee")}},{name:"Neon",apply(){ut("rounded"),m("dots-gradient",!1,!0),m("dots-color","#00d4ff"),m("corners-square-type","extra-rounded"),m("corners-square-gradient",!1,!0),m("corners-square-color","#00d4ff"),m("corners-dot-type","dot"),m("corners-dot-gradient",!1,!0),m("corners-dot-color","#ff6bb3"),m("bg-transparent",!1,!0),m("bg-gradient",!1,!0),m("bg-color","#0f0a1f")}},{name:"Elegant",apply(){ut("classy-rounded"),m("dots-gradient",!1,!0),m("dots-color","#2d1f54"),m("corners-square-type","classy-rounded"),m("corners-square-gradient",!1,!0),m("corners-square-color","#2d1f54"),m("corners-dot-type","classy-rounded"),m("corners-dot-gradient",!1,!0),m("corners-dot-color","#2d1f54"),m("bg-transparent",!1,!0),m("bg-gradient",!1,!0),m("bg-color","#f8f6ff")}},{name:"Minimal",apply(){ut("square"),m("dots-gradient",!1,!0),m("dots-color","#000000"),m("corners-square-type","square"),m("corners-square-gradient",!1,!0),m("corners-square-color","#000000"),m("corners-dot-type","square"),m("corners-dot-gradient",!1,!0),m("corners-dot-color","#000000"),m("bg-transparent",!0,!0),m("bg-gradient",!1,!0),m("bg-color","#ffffff")}}];function Pt(T,w){let b;return function(...v){const y=this;clearTimeout(b),b=setTimeout(()=>T.apply(y,v),w)}}const jt=120,Rt=document.getElementById("qr-container");let bt,Et,At;const xt=()=>{const T=At.getOptions();bt?bt.update(T):bt=new Dt(Rt,T)},qt=Pt(xt,jt);function Nt(){var w;At=new Lt(qt),Et=new kt(qt),xt();const T=document.getElementById("preset-buttons");T&&zt.forEach(b=>{const v=document.createElement("button");v.type="button",v.textContent=b.name,v.addEventListener("click",()=>{b.apply(),Et.refreshToggles(),xt()}),T.appendChild(v)}),(w=document.getElementById("download-btn"))==null||w.addEventListener("click",()=>{var y,A;const b=(((y=document.getElementById("export-filename"))==null?void 0:y.value)||"qr").trim()||"qr",v=((A=document.getElementById("export-format"))==null?void 0:A.value)||"png";bt.download(b,v)})}Nt();
